<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="sJgro_9-KyRL3EkTM5KW84pQPrg2Fv1KdkibDRBIulE">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"cloudolife.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.23.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="errors Package errors provides simple error handling primitives. The traditional error handling idiom in Go is roughly akin to 123if err !&#x3D; nil &amp;#123;        return err&amp;#125; which applied recursively">
<meta property="og:type" content="article">
<meta property="og:title" content="[Awesome Go] Use errors to handle errors">
<meta property="og:url" content="https://cloudolife.com/2020/01/25/Programming-Language/Golang-Go/Awesome-Go/Use-errors-to-handle-errors/index.html">
<meta property="og:site_name" content="Cloud-oriented Life">
<meta property="og:description" content="errors Package errors provides simple error handling primitives. The traditional error handling idiom in Go is roughly akin to 123if err !&#x3D; nil &amp;#123;        return err&amp;#125; which applied recursively">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-01-25T00:00:00.000Z">
<meta property="article:modified_time" content="2025-06-10T09:49:34.926Z">
<meta property="article:author" content="CloudoLife">
<meta property="article:tag" content="Programming Language">
<meta property="article:tag" content="Golang (Go)">
<meta property="article:tag" content="Gopkg">
<meta property="article:tag" content="Awesome Go">
<meta property="article:tag" content="errors">
<meta property="article:tag" content="Live Reload">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://cloudolife.com/2020/01/25/Programming-Language/Golang-Go/Awesome-Go/Use-errors-to-handle-errors/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cloudolife.com/2020/01/25/Programming-Language/Golang-Go/Awesome-Go/Use-errors-to-handle-errors/","path":"2020/01/25/Programming-Language/Golang-Go/Awesome-Go/Use-errors-to-handle-errors/","title":"[Awesome Go] Use errors to handle errors"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[Awesome Go] Use errors to handle errors | Cloud-oriented Life</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y9QPJWXQN"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-8Y9QPJWXQN","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?995d7016a56cfd5c2ef6f2e6640a670e"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>






  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






<script data-ad-client="ca-pub-8693122033969144" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Cloud-oriented Life" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Cloud-oriented Life</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Cloud Native Technology Improves Lives</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">1646</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">331</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">584</span></a></li><li class="menu-item menu-item-ansible"><a href="/tags/Ansible/" rel="section"><i class="fa fa-book fa-fw"></i>Ansible</a></li><li class="menu-item menu-item-awesome-software"><a href="/tags/Awesome-Software/" rel="section"><i class="fa fa-book fa-fw"></i>Awesome Software</a></li><li class="menu-item menu-item-golang-(go)"><a href="/tags/Golang-Go/" rel="section"><i class="fa fa-book fa-fw"></i>Golang (Go)</a></li><li class="menu-item menu-item-helm"><a href="/tags/Helm/" rel="section"><i class="fa fa-book fa-fw"></i>Helm</a></li><li class="menu-item menu-item-java"><a href="/tags/Java/" rel="section"><i class="fa fa-book fa-fw"></i>Java</a></li><li class="menu-item menu-item-javascript"><a href="/tags/JavaScript/" rel="section"><i class="fa fa-book fa-fw"></i>JavaScript</a></li><li class="menu-item menu-item-knative"><a href="/tags/Knative/" rel="section"><i class="fa fa-book fa-fw"></i>Knative</a></li><li class="menu-item menu-item-kubernetes-(k8s)"><a href="/tags/Kubernetes-K8S/" rel="section"><i class="fa fa-book fa-fw"></i>Kubernetes (K8S)</a></li><li class="menu-item menu-item-macos"><a href="/tags/macOS/" rel="section"><i class="fa fa-book fa-fw"></i>macOS</a></li><li class="menu-item menu-item-python"><a href="/tags/Python/" rel="section"><i class="fa fa-book fa-fw"></i>Python</a></li><li class="menu-item menu-item-pulumi"><a href="/tags/Pulumi/" rel="section"><i class="fa fa-book fa-fw"></i>Pulumi</a></li><li class="menu-item menu-item-react"><a href="/tags/React/" rel="section"><i class="fa fa-book fa-fw"></i>React</a></li><li class="menu-item menu-item-ruby"><a href="/tags/Ruby/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby</a></li><li class="menu-item menu-item-ruby-on-rails"><a href="/tags/Ruby-on-Rails-RoR/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby On Rails</a></li><li class="menu-item menu-item-rust"><a href="/tags/Rust/" rel="section"><i class="fa fa-book fa-fw"></i>Rust</a></li><li class="menu-item menu-item-serverless"><a href="/tags/Serverless/" rel="section"><i class="fa fa-book fa-fw"></i>Serverless</a></li><li class="menu-item menu-item-service-mesh"><a href="/tags/Service-Mesh/" rel="section"><i class="fa fa-book fa-fw"></i>Service Mesh</a></li><li class="menu-item menu-item-svelte"><a href="/tags/Svelte/" rel="section"><i class="fa fa-book fa-fw"></i>Svelte</a></li><li class="menu-item menu-item-taro"><a href="/tags/Taro/" rel="section"><i class="fa fa-book fa-fw"></i>Taro</a></li><li class="menu-item menu-item-terraform"><a href="/tags/Terraform/" rel="section"><i class="fa fa-book fa-fw"></i>Terraform</a></li><li class="menu-item menu-item-typescript"><a href="/tags/TypeScript/" rel="section"><i class="fa fa-book fa-fw"></i>TypeScript</a></li><li class="menu-item menu-item-about"><a href="/about-us/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">errors</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installation"><span class="nav-number">1.1.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Usages"><span class="nav-number">1.2.</span> <span class="nav-text">Usages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#func-Wrap-Adding-context-to-an-error"><span class="nav-number">1.2.1.</span> <span class="nav-text">func Wrap - Adding context to an error</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-Wrapf"><span class="nav-number">1.2.2.</span> <span class="nav-text">func Wrapf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Retrieving-the-cause-of-an-error"><span class="nav-number">1.2.3.</span> <span class="nav-text">Retrieving the cause of an error</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Formatted-printing-of-errors"><span class="nav-number">1.2.4.</span> <span class="nav-text">Formatted printing of errors</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Retrieving-the-stack-trace-of-an-error-or-wrapper"><span class="nav-number">1.2.5.</span> <span class="nav-text">Retrieving the stack trace of an error or wrapper</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-Cause"><span class="nav-number">1.2.6.</span> <span class="nav-text">func Cause</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-Errorf"><span class="nav-number">1.2.7.</span> <span class="nav-text">func Errorf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-New"><span class="nav-number">1.2.8.</span> <span class="nav-text">func New</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-WithMessage"><span class="nav-number">1.2.9.</span> <span class="nav-text">func WithMessage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-WithMessagef"><span class="nav-number">1.2.10.</span> <span class="nav-text">func WithMessagef</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#func-WithStack"><span class="nav-number">1.2.11.</span> <span class="nav-text">func WithStack</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Func-Is-As-Unwrap"><span class="nav-number">1.2.12.</span> <span class="nav-text">Func Is, As, Unwrap</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">2.</span> <span class="nav-text">References</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CloudoLife</p>
  <div class="site-description" itemprop="description">A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">584</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">331</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1646</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/CloudoLife" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/CloudoLife" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://cloudolife.cn/" title="https:&#x2F;&#x2F;cloudolife.cn" rel="noopener external nofollow noreferrer" target="_blank">CLoudoLife - Chinese (Simplified)</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/01/25/Programming-Language/Golang-Go/Awesome-Go/Use-errors-to-handle-errors/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[Awesome Go] Use errors to handle errors | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Awesome Go] Use errors to handle errors
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-01-25 00:00:00" itemprop="dateCreated datePublished" datetime="2020-01-25T00:00:00+00:00">2020-01-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/" itemprop="url" rel="index"><span itemprop="name">Programming Language</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Golang-Go/" itemprop="url" rel="index"><span itemprop="name">Golang (Go)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Golang-Go/Awesome-Go/" itemprop="url" rel="index"><span itemprop="name">Awesome Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>9.7k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>9 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1>errors</h1>
<p>Package <code>errors</code> provides simple error handling primitives.</p>
<p>The traditional error handling idiom in Go is roughly akin to</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>which applied recursively up the call stack results in error reports without context or debugging information. The errors package allows programmers to add context to the failure path in their code in a way that does not destroy the original value of the error.</p>
<span id="more"></span>
<h2 id="Installation">Installation</h2>
<p>Standard go get:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go get -u github.com/pkg/errors</span></span><br></pre></td></tr></table></figure>
<h2 id="Usages">Usages</h2>
<h3 id="func-Wrap-Adding-context-to-an-error">func Wrap - Adding context to an error</h3>
<p>The <code>errors.Wrap</code> function returns a new error that adds context to the original error. For example</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_, err := ioutil.ReadAll(r)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> errors.Wrap(err, <span class="string">&quot;read failed&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fn</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	e1 := errors.New(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">	e2 := errors.Wrap(e1, <span class="string">&quot;inner&quot;</span>)</span><br><span class="line">	e3 := errors.Wrap(e2, <span class="string">&quot;middle&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> errors.Wrap(e3, <span class="string">&quot;outer&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := fn()</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%+v\n&quot;</span>, err)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Example output:</span></span><br><span class="line">	<span class="comment">// error</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.fn</span></span><br><span class="line">	<span class="comment">//         /home/dfc/src/github.com/pkg/errors/example_test.go:47</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.ExampleCause_printf</span></span><br><span class="line">	<span class="comment">//         /home/dfc/src/github.com/pkg/errors/example_test.go:63</span></span><br><span class="line">	<span class="comment">// testing.runExample</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/example.go:114</span></span><br><span class="line">	<span class="comment">// testing.RunExamples</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/example.go:38</span></span><br><span class="line">	<span class="comment">// testing.(*M).Run</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/testing.go:744</span></span><br><span class="line">	<span class="comment">// main.main</span></span><br><span class="line">	<span class="comment">//         /github.com/pkg/errors/_test/_testmain.go:104</span></span><br><span class="line">	<span class="comment">// runtime.main</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/runtime/proc.go:183</span></span><br><span class="line">	<span class="comment">// runtime.goexit</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/runtime/asm_amd64.s:2059</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.fn</span></span><br><span class="line">	<span class="comment">// 	  /home/dfc/src/github.com/pkg/errors/example_test.go:48: inner</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.fn</span></span><br><span class="line">	<span class="comment">//        /home/dfc/src/github.com/pkg/errors/example_test.go:49: middle</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.fn</span></span><br><span class="line">	<span class="comment">//      /home/dfc/src/github.com/pkg/errors/example_test.go:50: outer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="func-Wrapf">func Wrapf</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Wrapf</span><span class="params">(err <span class="type">error</span>, format <span class="type">string</span>, args ...<span class="keyword">interface</span>&#123;&#125;)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>Wrapf</code> returns an error annotating <code>err</code> with a stack trace at the point <code>Wrapf</code> is called, and the format specifier. If <code>err</code> is <code>nil</code>, <code>Wrapf</code> returns <code>nil</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	cause := errors.New(<span class="string">&quot;whoops&quot;</span>)</span><br><span class="line">	err := errors.Wrapf(cause, <span class="string">&quot;oh noes #%d&quot;</span>, <span class="number">2</span>)</span><br><span class="line">	fmt.Println(err)  <span class="comment">// oh noes #2: whoops</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Retrieving-the-cause-of-an-error">Retrieving the cause of an error</h3>
<p>Using <code>errors.Wrap</code> constructs a stack of errors, adding context to the preceding error. Depending on the nature of the error it may be necessary to reverse the operation of <code>errors.Wrap</code> to retrieve the original error for inspection. Any error value which implements this interface can be inspected by <code>errors.Cause</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> causer <span class="keyword">interface</span> &#123;</span><br><span class="line">        Cause() <span class="type">error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>errors.Cause</code> will recursively retrieve the topmost error which does not implement causer, which is assumed to be the original cause. For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> err := errors.Cause(err).(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> *MyError:</span><br><span class="line">        <span class="comment">// handle specifically</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// unknown error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Formatted-printing-of-errors">Formatted printing of errors</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f Frame)</span></span> Format(s fmt.State, verb <span class="type">rune</span>)</span><br></pre></td></tr></table></figure>
<p>All error values returned from this package implement fmt.Formatter and can be formatted by the fmt package. The following verbs are supported:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%s    <span class="built_in">print</span> the <span class="type">error</span>. If the <span class="type">error</span> has a Cause it will be</span><br><span class="line">      printed recursively.</span><br><span class="line">%+s   function name and path of source file relative to the compile time</span><br><span class="line">      GOPATH separated by \n\t (&lt;funcname&gt;\n\t&lt;path&gt;)</span><br><span class="line">%v    see %s</span><br><span class="line">%+v   extended format. Each Frame of the <span class="type">error</span><span class="string">&#x27;s StackTrace will</span></span><br><span class="line"><span class="string">      be printed in detail. equivalent to %+s:%d</span></span><br></pre></td></tr></table></figure>
<h3 id="Retrieving-the-stack-trace-of-an-error-or-wrapper">Retrieving the stack trace of an error or wrapper</h3>
<p><code>New</code>, <code>Errorf</code>, <code>Wrap</code>, and <code>Wrapf</code> record a stack trace at the point they are invoked. This information can be retrieved with the following interface:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> stackTracer <span class="keyword">interface</span> &#123;</span><br><span class="line">        StackTrace() errors.StackTrace</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The returned <code>errors.StackTrace</code> type is defined as</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> StackTrace []Frame</span><br></pre></td></tr></table></figure>
<p>The <code>Frame</code> type represents a call site in the stack trace. <code>Frame</code> supports the <code>fmt.Formatter</code> interface that can be used for printing information about the stack trace of this error. For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err, ok := err.(stackTracer); ok &#123;</span><br><span class="line">        <span class="keyword">for</span> _, f := <span class="keyword">range</span> err.StackTrace() &#123;</span><br><span class="line">                fmt.Printf(<span class="string">&quot;%+s:%d\n&quot;</span>, f, f)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Although the stackTracer interface is not exported by this package, it is considered a part of its stable public interface.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fn</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	e1 := errors.New(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">	e2 := errors.Wrap(e1, <span class="string">&quot;inner&quot;</span>)</span><br><span class="line">	e3 := errors.Wrap(e2, <span class="string">&quot;middle&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> errors.Wrap(e3, <span class="string">&quot;outer&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// Redefine stackTracer outside errors package.</span></span><br><span class="line">	<span class="keyword">type</span> stackTracer <span class="keyword">interface</span> &#123;</span><br><span class="line">		StackTrace() errors.StackTrace</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	err, ok := errors.Cause(fn()).(stackTracer)</span><br><span class="line">	<span class="keyword">if</span> !ok &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">&quot;oops, err does not implement stackTracer&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	st := err.StackTrace()</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%+v&quot;</span>, st[<span class="number">0</span>:<span class="number">2</span>]) <span class="comment">// top two frames</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Example output:</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.fn</span></span><br><span class="line">	<span class="comment">//	/home/dfc/src/github.com/pkg/errors/example_test.go:47</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.Example_stackTrace</span></span><br><span class="line">	<span class="comment">//	/home/dfc/src/github.com/pkg/errors/example_test.go:127</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="func-Cause">func Cause</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Cause</span><span class="params">(err <span class="type">error</span>)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>Cause</code> returns the underlying cause of the error, if possible. An error value has a cause if it implements the following interface:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> causer <span class="keyword">interface</span> &#123;</span><br><span class="line">       Cause() <span class="type">error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If the error does not implement <code>Cause</code>, the original error will be returned. If the error is nil, nil will be returned without further investigation.</p>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fn</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	e1 := errors.New(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">	e2 := errors.Wrap(e1, <span class="string">&quot;inner&quot;</span>)</span><br><span class="line">	e3 := errors.Wrap(e2, <span class="string">&quot;middle&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> errors.Wrap(e3, <span class="string">&quot;outer&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := fn()</span><br><span class="line">	fmt.Println(err)  <span class="comment">// outer: middle: inner: error</span></span><br><span class="line">	fmt.Println(errors.Cause(err))  <span class="comment">// error</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="func-Errorf">func Errorf</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Errorf</span><span class="params">(format <span class="type">string</span>, args ...<span class="keyword">interface</span>&#123;&#125;)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>Errorf</code> formats according to a format specifier and returns the string as a value that satisfies error. <code>Errorf</code> also records the stack trace at the point it was called.</p>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := errors.Errorf(<span class="string">&quot;whoops: %s&quot;</span>, <span class="string">&quot;foo&quot;</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%+v&quot;</span>, err)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Example output:</span></span><br><span class="line">	<span class="comment">// whoops: foo</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.ExampleErrorf</span></span><br><span class="line">	<span class="comment">//         /home/dfc/src/github.com/pkg/errors/example_test.go:101</span></span><br><span class="line">	<span class="comment">// testing.runExample</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/example.go:114</span></span><br><span class="line">	<span class="comment">// testing.RunExamples</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/example.go:38</span></span><br><span class="line">	<span class="comment">// testing.(*M).Run</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/testing.go:744</span></span><br><span class="line">	<span class="comment">// main.main</span></span><br><span class="line">	<span class="comment">//         /github.com/pkg/errors/_test/_testmain.go:102</span></span><br><span class="line">	<span class="comment">// runtime.main</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/runtime/proc.go:183</span></span><br><span class="line">	<span class="comment">// runtime.goexit</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/runtime/asm_amd64.s:2059</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="func-New">func New</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">New</span><span class="params">(message <span class="type">string</span>)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>New</code> returns an error with the supplied message. New also records the stack trace at the point it was called.</p>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := errors.New(<span class="string">&quot;whoops&quot;</span>)</span><br><span class="line">	fmt.Println(err)  <span class="comment">// whoops</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%+v&quot;</span>, err)</span><br><span class="line">	<span class="comment">// Example output:</span></span><br><span class="line">	<span class="comment">// whoops</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.ExampleNew_printf</span></span><br><span class="line">	<span class="comment">//         /home/dfc/src/github.com/pkg/errors/example_test.go:17</span></span><br><span class="line">	<span class="comment">// testing.runExample</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/example.go:114</span></span><br><span class="line">	<span class="comment">// testing.RunExamples</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/example.go:38</span></span><br><span class="line">	<span class="comment">// testing.(*M).Run</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/testing/testing.go:744</span></span><br><span class="line">	<span class="comment">// main.main</span></span><br><span class="line">	<span class="comment">//         /github.com/pkg/errors/_test/_testmain.go:106</span></span><br><span class="line">	<span class="comment">// runtime.main</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/runtime/proc.go:183</span></span><br><span class="line">	<span class="comment">// runtime.goexit</span></span><br><span class="line">	<span class="comment">//         /home/dfc/go/src/runtime/asm_amd64.s:2059</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="func-WithMessage">func WithMessage</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithMessage</span><span class="params">(err <span class="type">error</span>, message <span class="type">string</span>)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>WithMessage</code> annotates err with a new message. If <code>err</code> is <code>nil</code>, <code>WithMessage</code> returns <code>nil</code>.</p>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	cause := errors.New(<span class="string">&quot;whoops&quot;</span>)</span><br><span class="line">	err := errors.WithMessage(cause, <span class="string">&quot;oh noes&quot;</span>)</span><br><span class="line">	fmt.Println(err)  <span class="comment">// oh noes: whoops</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="func-WithMessagef">func WithMessagef</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithMessagef</span><span class="params">(err <span class="type">error</span>, format <span class="type">string</span>, args ...<span class="keyword">interface</span>&#123;&#125;)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>WithMessagef</code> annotates <code>err</code> with the format specifier. If <code>err</code> is <code>nil</code>, <code>WithMessagef</code> returns <code>nil</code>.</p>
<h3 id="func-WithStack">func WithStack</h3>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithStack</span><span class="params">(err <span class="type">error</span>)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<p><code>WithStack</code> annotates <code>err</code> with a stack trace at the point <code>WithStack</code> was called. If <code>err</code> is <code>nil</code>, <code>WithStack</code> returns <code>nil</code>.</p>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/pkg/errors&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	cause := errors.New(<span class="string">&quot;whoops&quot;</span>)</span><br><span class="line">	err := errors.WithStack(cause)</span><br><span class="line">	fmt.Println(err)  <span class="comment">// whoops</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%+v&quot;</span>, err)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Example Output:</span></span><br><span class="line">	<span class="comment">// whoops</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.ExampleWithStack_printf</span></span><br><span class="line">	<span class="comment">//         /home/fabstu/go/src/github.com/pkg/errors/example_test.go:55</span></span><br><span class="line">	<span class="comment">// testing.runExample</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/testing/example.go:114</span></span><br><span class="line">	<span class="comment">// testing.RunExamples</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/testing/example.go:38</span></span><br><span class="line">	<span class="comment">// testing.(*M).Run</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/testing/testing.go:744</span></span><br><span class="line">	<span class="comment">// main.main</span></span><br><span class="line">	<span class="comment">//         github.com/pkg/errors/_test/_testmain.go:106</span></span><br><span class="line">	<span class="comment">// runtime.main</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/runtime/proc.go:183</span></span><br><span class="line">	<span class="comment">// runtime.goexit</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/runtime/asm_amd64.s:2086</span></span><br><span class="line">	<span class="comment">// github.com/pkg/errors_test.ExampleWithStack_printf</span></span><br><span class="line">	<span class="comment">//         /home/fabstu/go/src/github.com/pkg/errors/example_test.go:56</span></span><br><span class="line">	<span class="comment">// testing.runExample</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/testing/example.go:114</span></span><br><span class="line">	<span class="comment">// testing.RunExamples</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/testing/example.go:38</span></span><br><span class="line">	<span class="comment">// testing.(*M).Run</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/testing/testing.go:744</span></span><br><span class="line">	<span class="comment">// main.main</span></span><br><span class="line">	<span class="comment">//         github.com/pkg/errors/_test/_testmain.go:106</span></span><br><span class="line">	<span class="comment">// runtime.main</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/runtime/proc.go:183</span></span><br><span class="line">	<span class="comment">// runtime.goexit</span></span><br><span class="line">	<span class="comment">//         /usr/lib/go/src/runtime/asm_amd64.s:2086</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Func-Is-As-Unwrap">Func Is, As, Unwrap</h3>
<p>Func <code>Is</code>, <code>As</code> and <code>Unwrap</code> is similar to <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.golang.org/go1.13-errors">Working with Errors in Go 1.13 - The Go Blog - https://blog.golang.org/go1.13-errors</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">As</span><span class="params">(err <span class="type">error</span>, target <span class="keyword">interface</span>&#123;&#125;)</span></span> <span class="type">bool</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Is</span><span class="params">(err, target <span class="type">error</span>)</span></span> <span class="type">bool</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Unwrap</span><span class="params">(err <span class="type">error</span>)</span></span> <span class="type">error</span></span><br></pre></td></tr></table></figure>
<h1>References</h1>
<p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/pkg/errors">GitHub - pkg/errors: Simple error handling primitives - https://github.com/pkg/errors</a></p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://pkg.go.dev/github.com/pkg/errors">errors · pkg.go.dev - https://pkg.go.dev/github.com/pkg/errors</a></p>
<p>[3] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://golang.org/pkg/errors/">errors - The Go Programming Language - https://golang.org/pkg/errors/</a></p>
<p>[4] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.golang.org/go1.13-errors">Working with Errors in Go 1.13 - The Go Blog - https://blog.golang.org/go1.13-errors</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/bitcoin.png" alt="CloudoLife Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Programming-Language/" rel="tag"># Programming Language</a>
              <a href="/tags/Golang-Go/" rel="tag"># Golang (Go)</a>
              <a href="/tags/Gopkg/" rel="tag"># Gopkg</a>
              <a href="/tags/Awesome-Go/" rel="tag"># Awesome Go</a>
              <a href="/tags/errors/" rel="tag"># errors</a>
              <a href="/tags/Live-Reload/" rel="tag"># Live Reload</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/01/18/Programming-Language/Kotlin/Basic-syntax/" rel="prev" title="[Kotlin] Basic syntax">
                  <i class="fa fa-angle-left"></i> [Kotlin] Basic syntax
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/02/01/Programming-Language/Rust/The-Rust-Programming-Language/9-Error-Handling/" rel="next" title="[The Rust Programming Language] 9. Error Handling">
                  [The Rust Programming Language] 9. Error Handling <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">CloudoLife</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">2.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">39:58</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener external nofollow noreferrer" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"CloudoLife","repo":"col-hexo-CloudoLife.github.io","client_id":"4ca3ae8fb3a49237db9a","client_secret":"98d6652508799ef4350ab05aabe855e58f549112","admin_user":"benjamincloudolife","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"c31181fc6d0b202f490792a90060d7e8"}</script>
<script src="/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
