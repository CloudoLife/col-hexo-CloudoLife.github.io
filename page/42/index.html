<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="sJgro_9-KyRL3EkTM5KW84pQPrg2Fv1KdkibDRBIulE">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"cloudolife.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.23.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
<meta property="og:type" content="website">
<meta property="og:title" content="Cloud-oriented Life">
<meta property="og:url" content="https://cloudolife.com/page/42/index.html">
<meta property="og:site_name" content="Cloud-oriented Life">
<meta property="og:description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="CloudoLife">
<meta property="article:tag" content="Cloud-oriented Life (COL), Google-oriented Programming (GoP), Infrastructure as Code (IaC), Cloud, Life">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://cloudolife.com/page/42/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/42/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Cloud-oriented Life - Cloud Native Technology Improves Lives</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y9QPJWXQN"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-8Y9QPJWXQN","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?995d7016a56cfd5c2ef6f2e6640a670e"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>






  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






<script data-ad-client="ca-pub-8693122033969144" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Cloud-oriented Life" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Cloud-oriented Life</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Cloud Native Technology Improves Lives</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">1646</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">331</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">584</span></a></li><li class="menu-item menu-item-ansible"><a href="/tags/Ansible/" rel="section"><i class="fa fa-book fa-fw"></i>Ansible</a></li><li class="menu-item menu-item-awesome-software"><a href="/tags/Awesome-Software/" rel="section"><i class="fa fa-book fa-fw"></i>Awesome Software</a></li><li class="menu-item menu-item-golang-(go)"><a href="/tags/Golang-Go/" rel="section"><i class="fa fa-book fa-fw"></i>Golang (Go)</a></li><li class="menu-item menu-item-helm"><a href="/tags/Helm/" rel="section"><i class="fa fa-book fa-fw"></i>Helm</a></li><li class="menu-item menu-item-java"><a href="/tags/Java/" rel="section"><i class="fa fa-book fa-fw"></i>Java</a></li><li class="menu-item menu-item-javascript"><a href="/tags/JavaScript/" rel="section"><i class="fa fa-book fa-fw"></i>JavaScript</a></li><li class="menu-item menu-item-knative"><a href="/tags/Knative/" rel="section"><i class="fa fa-book fa-fw"></i>Knative</a></li><li class="menu-item menu-item-kubernetes-(k8s)"><a href="/tags/Kubernetes-K8S/" rel="section"><i class="fa fa-book fa-fw"></i>Kubernetes (K8S)</a></li><li class="menu-item menu-item-macos"><a href="/tags/macOS/" rel="section"><i class="fa fa-book fa-fw"></i>macOS</a></li><li class="menu-item menu-item-python"><a href="/tags/Python/" rel="section"><i class="fa fa-book fa-fw"></i>Python</a></li><li class="menu-item menu-item-pulumi"><a href="/tags/Pulumi/" rel="section"><i class="fa fa-book fa-fw"></i>Pulumi</a></li><li class="menu-item menu-item-react"><a href="/tags/React/" rel="section"><i class="fa fa-book fa-fw"></i>React</a></li><li class="menu-item menu-item-ruby"><a href="/tags/Ruby/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby</a></li><li class="menu-item menu-item-ruby-on-rails"><a href="/tags/Ruby-on-Rails-RoR/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby On Rails</a></li><li class="menu-item menu-item-rust"><a href="/tags/Rust/" rel="section"><i class="fa fa-book fa-fw"></i>Rust</a></li><li class="menu-item menu-item-serverless"><a href="/tags/Serverless/" rel="section"><i class="fa fa-book fa-fw"></i>Serverless</a></li><li class="menu-item menu-item-service-mesh"><a href="/tags/Service-Mesh/" rel="section"><i class="fa fa-book fa-fw"></i>Service Mesh</a></li><li class="menu-item menu-item-svelte"><a href="/tags/Svelte/" rel="section"><i class="fa fa-book fa-fw"></i>Svelte</a></li><li class="menu-item menu-item-taro"><a href="/tags/Taro/" rel="section"><i class="fa fa-book fa-fw"></i>Taro</a></li><li class="menu-item menu-item-terraform"><a href="/tags/Terraform/" rel="section"><i class="fa fa-book fa-fw"></i>Terraform</a></li><li class="menu-item menu-item-typescript"><a href="/tags/TypeScript/" rel="section"><i class="fa fa-book fa-fw"></i>TypeScript</a></li><li class="menu-item menu-item-about"><a href="/about-us/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CloudoLife</p>
  <div class="site-description" itemprop="description">A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">584</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">331</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1646</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/CloudoLife" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/CloudoLife" title="Twitter ‚Üí https:&#x2F;&#x2F;twitter.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://cloudolife.cn/" title="https:&#x2F;&#x2F;cloudolife.cn" rel="noopener external nofollow noreferrer" target="_blank">CLoudoLife - Chinese (Simplified)</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/22/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Terraform-LDAP-Examples-about-using-Terraform-LDAP-Provider-to-manage-ldap-objects/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Terraform-LDAP-Examples-about-using-Terraform-LDAP-Provider-to-manage-ldap-objects/" class="post-title-link" itemprop="url">[Infrastructure as Code (IaC)] Terraform LDAP Examples about using Terraform LDAP Provider to manage ldap objects</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-22 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:00+00:00">2020-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/" itemprop="url" rel="index"><span itemprop="name">Infrastructure as Code (IaC)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/Terraform/" itemprop="url" rel="index"><span itemprop="name">Terraform</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.9k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>Terraform LDAP Examples</h1>
<p>Examples about using Terraform LDAP Provider to manage ldap objects.</p>
<p>Github: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CloudoLife/terraform-ldap-examples">https://github.com/CloudoLife/terraform-ldap-examples</a></p>
<h2 id="Prerequsites">Prerequsites</h2>
<p>Your must have a LDAP server with bind account and password, and Terraform CLI have been installed.</p>
<h3 id="LDAP-Server-with-Bind-Account-and-Password">LDAP Server with Bind Account and Password</h3>
<p>Recommand use <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/osixia/docker-openldap">osixia/docker-openldap: A docker image to run OpenLDAP üê≥ - https://github.com/osixia/docker-openldap</a> to run OpenLDAP server within container if you want to install the LDAP Server.</p>
<p>Thne, remember the admin account and bind password.</p>
<h3 id="Terrraform-and-Terrafrom-LDAP-Provider">Terrraform and Terrafrom LDAP Provider</h3>
<ul>
<li>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.terraform.io/">Terraform by HashiCorp</a></p>
<p>Use Infrastructure as Code to provision and manage any cloud, infrastructure, or service</p>
</li>
<li>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CloudoLife/terraform-provider-ldap">CloudoLife/terraform-provider-ldap: LDAP provider for Terraform</a></p>
<p>The LDAP provider gives the ability to deploy and configure resources in a LDAP server.</p>
</li>
</ul>
<h2 id="Installation">Installation</h2>
<p>First, install and config Terraform LDAP provider.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./install.sh</span><br></pre></td></tr></table></figure>
<p>It will go get <a target="_blank" rel="noopener external nofollow noreferrer" href="http://github.com/CloudoLife/terraform-provider-ldap">github.com/CloudoLife/terraform-provider-ldap</a> and create or append these content to <a href="~/.terraformrc">~/.terraformrc</a> file.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~/.terraformrc</span></span><br><span class="line">providers &#123;</span><br><span class="line">    ldap = &quot;$&#123;GOPATH&#125;/bin/terraform-provider-ldap&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Configuration">Configuration</h2>
<h3 id="LDAP-Provider-Variables">LDAP Provider Variables</h3>
<p>First, Specify values for LDAP Provider variables within <a href="./terraform.tfvars">terraform.tfvars</a>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ldap_host = &quot;localhost&quot;</span><br><span class="line"></span><br><span class="line">ldap_port = 389</span><br><span class="line"></span><br><span class="line">use_tls = false </span><br><span class="line"></span><br><span class="line">bind_user = &quot;cn=admin,dc=&lt;Your Domain&gt;,dc=com&quot;</span><br><span class="line"></span><br><span class="line">bind_password = &quot;password&quot;</span><br></pre></td></tr></table></figure>
<h3 id="LDAP-Object">LDAP Object</h3>
<p>Config LDAP objects within <a href="./objects">./objects</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">resource &quot;ldap_object&quot; &quot;foo&quot; &#123;</span><br><span class="line">    # DN must be complete (no RDN!)</span><br><span class="line">    dn = &quot;uid=foo,dc=example,dc=com&quot;</span><br><span class="line"></span><br><span class="line">    # classes are specified as an array</span><br><span class="line">    object_classes = [</span><br><span class="line">        &quot;inetOrgPerson&quot;,</span><br><span class="line">        &quot;posixAccount&quot;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    # attributes are specified as a set of 1-element maps</span><br><span class="line">    attributes = [</span><br><span class="line">        &#123; sn              = &quot;10&quot; &#125;,</span><br><span class="line">        &#123; cn              = &quot;bar&quot; &#125;,</span><br><span class="line">        &#123; uidNumber       = &quot;1234&quot; &#125;,</span><br><span class="line">        &#123; gidNumber       = &quot;1234&quot; &#125;,</span><br><span class="line">        &#123; homeDirectory   = &quot;/home/billy&quot; &#125;,</span><br><span class="line">        &#123; loginShell      = &quot;/bin/bash&quot; &#125;,</span><br><span class="line">        # when an attribute has multiple values, it must be specified multiple times</span><br><span class="line">        &#123; mail            = &quot;billy@example.com&quot; &#125;,</span><br><span class="line">        &#123; mail            = &quot;admin@example.com&quot; &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Run">Run</h2>
<h3 id="Terraform-Init">Terraform Init</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">terraform init</span><br></pre></td></tr></table></figure>
<p>It will download the Terraform LDAP Provider binary.</p>
<h3 id="Terraform-apply">Terraform apply</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">terraform apply</span><br></pre></td></tr></table></figure>
<p>It will dispaly the execute plan and wait for your make yes or no.<br>
Then yes to create ldap objects.</p>
<h2 id="Import">Import</h2>
<p>Import and create .tf file by run <a href="./import.sh">./import.sh</a> command.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./import.sh uid=foo,dc=example,dc=com</span><br></pre></td></tr></table></figure>
<p>It will import LDAP object(uid=foo,dc=example,dc=com) to Terraform State(terraform.tfstate) and auto create the ldap_object.foo.tf file.</p>
<p>You can continue to maintain that file and run terraform apply command to manage the exist LDAP objects without copying &amp; pasting from Terraform State(terraform.tfstate).</p>
<h2 id="Inspire">Inspire</h2>
<p>Inspired by <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Pryz/terraform-provider-ldap">Pryz/terraform-provider-ldap: LDAP provider for Terraform</a>.</p>
<h2 id="Reference">Reference</h2>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CloudoLife/terraform-provider-ldap">CloudoLife/terraform-provider-ldap: LDAP provider for Terraform</a></p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.terraform.io/">Terraform by HashiCorp - https://www.terraform.io/</a></p>
<p>[3] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Pryz/terraform-provider-ldap">Pryz/terraform-provider-ldap: LDAP provider for Terraform</a></p>
<p>[4] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/osixia/docker-openldap">osixia/docker-openldap: A docker image to run OpenLDAP üê≥ - https://github.com/osixia/docker-openldap</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-annotate-gem-to-annotate-Rails-classes-with-schema-and-routes-info/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-annotate-gem-to-annotate-Rails-classes-with-schema-and-routes-info/" class="post-title-link" itemprop="url">[Awesome Ruby Gem] Use annotate gem to annotate Rails classes with schema and routes info</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-22 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:00+00:00">2020-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/" itemprop="url" rel="index"><span itemprop="name">Programming Language</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/" itemprop="url" rel="index"><span itemprop="name">Ruby</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/Awesome-Ruby-Gem/" itemprop="url" rel="index"><span itemprop="name">Awesome Ruby Gem</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>5k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>5 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>Annotate (aka AnnotateModels)</h1>
<p>The Annotate (aka AnnotateModels) gem annotating Rails classes with schema and routes info by adding a comment summarizing the current schema to the top or bottom of each of your‚Ä¶</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-annotate-gem-to-annotate-Rails-classes-with-schema-and-routes-info/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-bullet-gem-to-annotate-Rails-classes-with-schema-and-routes-info/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-bullet-gem-to-annotate-Rails-classes-with-schema-and-routes-info/" class="post-title-link" itemprop="url">[Awesome Ruby Gem] Use bullet gem to help to kill N+1 queries and unused eager loading</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-22 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:00+00:00">2020-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/" itemprop="url" rel="index"><span itemprop="name">Programming Language</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/" itemprop="url" rel="index"><span itemprop="name">Ruby</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/Awesome-Ruby-Gem/" itemprop="url" rel="index"><span itemprop="name">Awesome Ruby Gem</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>5.9k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>5 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>bullet</h1>
<p>The Bullet gem is designed to help you increase your application‚Äôs performance by reducing the number of queries it makes. It will watch your queries while you develop your application and notify you when you should add eager loading (N+1 queries), when you‚Äôre using eager loading that isn‚Äôt necessary and when you should use counter cache.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-bullet-gem-to-annotate-Rails-classes-with-schema-and-routes-info/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-marginalia-gem-to-attach-comments-to-your-Rails-ActiveRecord-queries/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-marginalia-gem-to-attach-comments-to-your-Rails-ActiveRecord-queries/" class="post-title-link" itemprop="url">[Awesome Ruby Gem] Use marginalia gem to attach comments to your Rails ActiveRecord queries</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-22 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:00+00:00">2020-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/" itemprop="url" rel="index"><span itemprop="name">Programming Language</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/" itemprop="url" rel="index"><span itemprop="name">Ruby</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/Awesome-Ruby-Gem/" itemprop="url" rel="index"><span itemprop="name">Awesome Ruby Gem</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>marginalia</h1>
<p>The marginalia gem attaching comments to your ActiveRecord queries. By default, it adds the application, controller, and action names as a comment at the end of each query.</p>
<p>This helps when searching log files for queries, and seeing where slow queries came from.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/22/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-marginalia-gem-to-attach-comments-to-your-Rails-ActiveRecord-queries/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/22/Programming-Language/Ruby/Ruby-on-Rails-RoR/Datbase-Configuration-in-Rails/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/Programming-Language/Ruby/Ruby-on-Rails-RoR/Datbase-Configuration-in-Rails/" class="post-title-link" itemprop="url">[Ruby on Rails (RoR)] Datbase Configuration in Rails</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-22 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:00+00:00">2020-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/" itemprop="url" rel="index"><span itemprop="name">Programming Language</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/" itemprop="url" rel="index"><span itemprop="name">Ruby</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/Rails-Ruby-on-Rails-RoR/" itemprop="url" rel="index"><span itemprop="name">Rails / Ruby on Rails (RoR)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/Rails-Ruby-on-Rails-RoR/Best-Practices/" itemprop="url" rel="index"><span itemprop="name">Best Practices</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>11k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>10 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>Database Configuration in Rails</h1>
<p>Since there are two ways to configure your connection (using <code>config/database.yml</code> or using an environment variable <code>ENV['DATABASE_URL']</code>) it is important to understand how they can interact.</p>
<p>If you look at the options of the application generator, you will see that one of the options is named <code>--database</code>. This option allows you to choose an adapter from a list of the most used relational databases. You can even run the generator repeatedly:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> .. &amp;&amp; rails new blog --database=mysql</span></span><br></pre></td></tr></table></figure>
<p>When you confirm the overwriting of the <code>config/database.yml</code> file, your application will be configured for MySQL instead of SQLite. Detailed examples of the common database connections are below.</p>
<h2 id="Print-Configuration">Print Configuration</h2>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Current database configuration</span></span><br><span class="line">&gt; <span class="title class_">ActiveRecord</span><span class="symbol">:</span><span class="symbol">:Base</span>.connection_db_config</span><br><span class="line"></span><br><span class="line"><span class="comment"># DEPRECATION WARNING: connection_config is deprecated and will be removed from Rails 6.2 (Use connection_db_config instead)</span></span><br><span class="line"><span class="comment"># &gt; ActiveRecord::Base.connection_config</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Current database configuration</span></span><br><span class="line">&gt; <span class="title class_">Rails</span>.configuration.database_configuration[<span class="title class_">Rails</span>.env]</span><br><span class="line"></span><br><span class="line"><span class="comment"># All database configuration</span></span><br><span class="line">&gt; <span class="title class_">Rails</span>.configuration.database_configuration</span><br></pre></td></tr></table></figure>
<h2 id="Connection-Preference">Connection Preference</h2>
<ul>
<li>
<p>If you have an empty <code>config/database.yml</code> file but your <code>ENV['DATABASE_URL']</code> is present, then Rails will connect to the database via your environment variable <code>ENV['DATABASE_URL']</code>.</p>
</li>
<li>
<p>If you have a <code>config/database.yml</code> but no <code>ENV['DATABASE_URL']</code> then this file will be used to connect to your database:</p>
</li>
<li>
<p>If you have both <code>config/database.yml</code> and <code>ENV['DATABASE_URL']</code> set then Rails will merge the configuration together. To better understand this we must see some examples.</p>
<ul>
<li>
<p>When duplicate connection information is provided the environment variable will take precedence</p>
</li>
<li>
<p>If non-duplicate information is provided you will get all unique values, environment variable still takes precedence in cases of any conflicts.</p>
</li>
</ul>
</li>
</ul>
<p>The only way to explicitly not use the connection information in <code>ENV['DATABASE_URL']</code> is to specify an explicit URL connection using the <code>url</code> sub key:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> config/database.yml</span></span><br><span class="line">development:</span><br><span class="line">  url: sqlite3:NOT_my_database</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="variable">$DATABASE_URL</span></span></span><br><span class="line">postgresql://localhost/my_database</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bin/rails runner <span class="string">&#x27;puts ActiveRecord::Base.configurations&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">&lt;ActiveRecord::DatabaseConfigurations:0x00007fd50e209a28&gt;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bin/rails runner <span class="string">&#x27;puts ActiveRecord::Base.configurations.inspect&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">&lt;ActiveRecord::DatabaseConfigurations:0x00007fc8eab02880 @configurations=[</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">&lt;ActiveRecord::DatabaseConfigurations::UrlConfig:0x00007fc8eab020b0</span></span><br><span class="line">    @env_name=&quot;development&quot;, @spec_name=&quot;primary&quot;,</span><br><span class="line">    @config=&#123;&quot;adapter&quot;=&gt;&quot;sqlite3&quot;, &quot;database&quot;=&gt;&quot;NOT_my_database&quot;&#125;</span><br><span class="line">    @url=&quot;sqlite3:NOT_my_database&quot;&gt;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>
<p>Here the connection information in <code>ENV['DATABASE_URL']</code> is ignored, note the different adapter and database name.</p>
<h3 id="Recommended-Embed-ENV-‚ÄòDATABASE-URL‚Äô-in-config-database-yml">(Recommended) Embed ENV[‚ÄòDATABASE_URL‚Äô] in config/database.yml</h3>
<p>Since it is possible to embed ERB in your <code>config/database.yml</code> it is best practice to explicitly show you are using the <code>ENV['DATABASE_URL']</code> to connect to your database. This is especially useful in production since you should not commit secrets like your database password into your source control (such as Git).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> config/database.yml</span></span><br><span class="line">production:</span><br><span class="line">  url: &lt;%= ENV[&#x27;DATABASE_URL&#x27;] %&gt;</span><br></pre></td></tr></table></figure>
<p>Now the behavior is clear, that we are only using the connection information in <code>ENV['DATABASE_URL']</code>.</p>
<p>See <a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/configuring.html#connection-preference">3.19 Connection Preference - https://guides.rubyonrails.org/configuring.html#connection-preference</a> to learen more.</p>
<h2 id="Connection-Options">Connection Options</h2>
<h3 id="MySQL">MySQL</h3>
<p>If you choose to use MySQL or MariaDB instead of the shipped SQLite3 database, your <code>config/database.yml</code> will look a little different. Here‚Äôs the development section:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">mysql2</span></span><br><span class="line">  <span class="attr">encoding:</span> <span class="string">utf8mb4</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">blog_development</span></span><br><span class="line">  <span class="attr">pool:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">password:</span></span><br><span class="line">  <span class="attr">socket:</span> <span class="string">/tmp/mysql.sock</span></span><br></pre></td></tr></table></figure>
<p>If your development database has a root user with an empty password, this configuration should work for you. Otherwise, change the username and password in the development section as appropriate.</p>
<p>If your MySQL version is 5.5 or 5.6 and want to use the <code>utf8mb4</code> character set by default, please configure your MySQL server to support the longer key prefix by enabling <code>innodb_large_prefix</code> system variable.</p>
<p>Advisory Locks are enabled by default on MySQL and are used to make database migrations concurrent safe. You can disable advisory locks by setting <code>advisory_locks</code> to false:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">production:</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">mysql2</span></span><br><span class="line">  <span class="attr">advisory_locks:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>You can see MySQL connection options from <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/brianmario/mysql2#connection-options">brianmario/mysql2: A modern, simple and very fast Mysql library for Ruby - binding to libmysql - https://github.com/brianmario/mysql2#connection-options</a>.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Mysql2::Client</span>.new(</span><br><span class="line">  <span class="symbol">:host</span>,</span><br><span class="line">  <span class="symbol">:username</span>,</span><br><span class="line">  <span class="symbol">:password</span>,</span><br><span class="line">  <span class="symbol">:port</span>,</span><br><span class="line">  <span class="symbol">:database</span>,</span><br><span class="line">  <span class="symbol">:socket</span> = <span class="string">&#x27;/path/to/mysql.sock&#x27;</span>,</span><br><span class="line">  <span class="symbol">:flags</span> = <span class="variable constant_">REMEMBER_OPTIONS</span> |<span class="params"> LONG_PASSWORD </span>| <span class="variable constant_">LONG_FLAG</span> |<span class="params"> TRANSACTIONS </span>| <span class="variable constant_">PROTOCOL_41</span> |<span class="params"> SECURE_CONNECTION </span>| <span class="variable constant_">MULTI_STATEMENTS</span>,</span><br><span class="line">  <span class="symbol">:encoding</span> = <span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">  <span class="symbol">:read_timeout</span> = seconds,</span><br><span class="line">  <span class="symbol">:write_timeout</span> = seconds,</span><br><span class="line">  <span class="symbol">:connect_timeout</span> = seconds,</span><br><span class="line">  <span class="symbol">:connect_attrs</span> = &#123;<span class="symbol">:program_name</span> =&gt; <span class="variable">$PROGRAM_NAME</span>, ...&#125;,</span><br><span class="line">  <span class="symbol">:reconnect</span> = <span class="literal">true</span>/<span class="literal">false</span>,</span><br><span class="line">  <span class="symbol">:local_infile</span> = <span class="literal">true</span>/<span class="literal">false</span>,</span><br><span class="line">  <span class="symbol">:secure_auth</span> = <span class="literal">true</span>/<span class="literal">false</span>,</span><br><span class="line">  <span class="symbol">:ssl_mode</span> = <span class="symbol">:disabled</span> / <span class="symbol">:preferred</span> / <span class="symbol">:required</span> / <span class="symbol">:verify_ca</span> / <span class="symbol">:verify_identity</span>,</span><br><span class="line">  <span class="symbol">:default_file</span> = <span class="string">&#x27;/path/to/my.cfg&#x27;</span>,</span><br><span class="line">  <span class="symbol">:default_group</span> = <span class="string">&#x27;my.cfg section&#x27;</span>,</span><br><span class="line">  <span class="symbol">:default_auth</span> = <span class="string">&#x27;authentication_windows_client&#x27;</span></span><br><span class="line">  <span class="symbol">:init_command</span> =&gt; sql</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
<h3 id="PostgreSQL">PostgreSQL</h3>
<p>If you choose to use PostgreSQL, your <code>config/database.yml</code> will be customized to use PostgreSQL databases:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">postgresql</span></span><br><span class="line">  <span class="attr">encoding:</span> <span class="string">unicode</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">blog_development</span></span><br><span class="line">  <span class="attr">pool:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>By default Active Record uses database features like prepared statements and advisory locks. You might need to disable those features if you‚Äôre using an external connection pooler like PgBouncer:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">production:</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">postgresql</span></span><br><span class="line">  <span class="attr">prepared_statements:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">advisory_locks:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">```</span>  </span><br><span class="line"></span><br><span class="line"><span class="string">If</span> <span class="string">enabled,</span> <span class="string">Active</span> <span class="string">Record</span> <span class="string">will</span> <span class="string">create</span> <span class="string">up</span> <span class="string">to</span> <span class="number">1000 </span><span class="string">prepared</span> <span class="string">statements</span> <span class="string">per</span> <span class="string">database</span> <span class="string">connection</span> <span class="string">by</span> <span class="string">default.</span> <span class="string">To</span> <span class="string">modify</span> <span class="string">this</span> <span class="string">behavior</span> <span class="string">you</span> <span class="string">can</span> <span class="string">set</span> <span class="string">`statement_limit`</span> <span class="attr">to a different value:</span></span><br><span class="line"></span><br><span class="line"><span class="string">```yaml</span></span><br><span class="line"><span class="attr">production:</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">postgresql</span></span><br><span class="line">  <span class="attr">statement_limit:</span> <span class="number">200</span></span><br></pre></td></tr></table></figure>
<p>The more prepared statements in use: the more memory your database will require. If your PostgreSQL database is hitting memory limits, try lowering <code>statement_limit</code> or disabling prepared statements.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The PostgreSQL adapter works with the native C (https://github.com/ged/ruby-pg) driver.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Options:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:host&lt;/tt&gt; - Defaults to a Unix-domain socket in /tmp. On machines without Unix-domain sockets,</span></span><br><span class="line"><span class="comment">#   the default is to connect to localhost.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:port&lt;/tt&gt; - Defaults to 5432.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:username&lt;/tt&gt; - Defaults to be the same as the operating system name of the user running the application.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:password&lt;/tt&gt; - Password to be used if the server demands password authentication.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:database&lt;/tt&gt; - Defaults to be the same as the username.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:schema_search_path&lt;/tt&gt; - An optional schema search path for the connection given</span></span><br><span class="line"><span class="comment">#   as a string of comma-separated schema names. This is backward-compatible with the &lt;tt&gt;:schema_order&lt;/tt&gt; option.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:encoding&lt;/tt&gt; - An optional client encoding that is used in a &lt;tt&gt;SET client_encoding TO</span></span><br><span class="line"><span class="comment">#   &lt;encoding&gt;&lt;/tt&gt; call on the connection.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:min_messages&lt;/tt&gt; - An optional client min messages that is used in a</span></span><br><span class="line"><span class="comment">#   &lt;tt&gt;SET client_min_messages TO &lt;min_messages&gt;&lt;/tt&gt; call on the connection.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:variables&lt;/tt&gt; - An optional hash of additional parameters that</span></span><br><span class="line"><span class="comment">#   will be used in &lt;tt&gt;SET SESSION key = val&lt;/tt&gt; calls on the connection.</span></span><br><span class="line"><span class="comment"># * &lt;tt&gt;:insert_returning&lt;/tt&gt; - An optional boolean to control the use of &lt;tt&gt;RETURNING&lt;/tt&gt; for &lt;tt&gt;INSERT&lt;/tt&gt; statements</span></span><br><span class="line"><span class="comment">#   defaults to true.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Any further options are used as connection parameters to libpq. See</span></span><br><span class="line"><span class="comment"># https://www.postgresql.org/docs/current/static/libpq-connect.html for the</span></span><br><span class="line"><span class="comment"># list of parameters.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In addition, default connection parameters of libpq can be set per environment variables.</span></span><br><span class="line"><span class="comment"># See https://www.postgresql.org/docs/current/static/libpq-envars.html .</span></span><br></pre></td></tr></table></figure>
<h3 id="Configuring-an-SQLite3-Database">Configuring an SQLite3 Database</h3>
<p>Rails comes with built-in support for SQLite3, which is a lightweight serverless database application. While a busy production environment may overload SQLite, it works well for development and testing. Rails defaults to using an SQLite database when creating a new project, but you can always change it later.</p>
<p>Here‚Äôs the section of the default configuration file (<code>config/database.yml</code>) with connection information for the development environment:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">sqlite3</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">db/development.sqlite3</span></span><br><span class="line">  <span class="attr">pool:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">5000</span></span><br></pre></td></tr></table></figure>
<p>Rails uses an SQLite3 database for data storage by default because it is a zero configuration database that just works. Rails also supports MySQL (including MariaDB) and PostgreSQL ‚Äúout of the box‚Äù, and has plugins for many database systems. If you are using a database in a production environment Rails most likely has an adapter for it.</p>
<p>See <a target="_blank" rel="noopener external nofollow noreferrer" href="https://gist.github.com/jwo/4512764">Sample config/database.yml from Rails. Postgres, MySQL, and SQLite - https://gist.github.com/jwo/4512764</a> and [Rails Database yml examples for postgres sqlite and mysql - <a target="_blank" rel="noopener external nofollow noreferrer" href="https://gist.github.com/datt/e12fa0da294e7a8f3ac96abee346a098">https://gist.github.com/datt/e12fa0da294e7a8f3ac96abee346a098</a>](<a target="_blank" rel="noopener external nofollow noreferrer" href="https://gist.github.com/datt/">https://gist.github.com/datt/</a> e12fa0da294e7a8f3ac96abee346a098) to learn more exmaples.</p>
<h2 id="Multi-Database-Support">Multi Database Support</h2>
<p>See <a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/active_record_multiple_databases.html">Multiple Databases with Active Record ‚Äî Ruby on Rails Guides - https://guides.rubyonrails.org/active_record_multiple_databases.html</a><br>
to learn more.</p>
<h2 id="Change-Database-Support">Change Database Support</h2>
<p>Rails 6 provide a command has been added to change database adapter automatically.</p>
<p>Let‚Äôs say our app has started with SQLite and now we have to switch to MySQL.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">rails db:system:change --to=mysql</span></span><br><span class="line">    conflict  config/database.yml</span><br><span class="line">Overwrite /Users/cloudolife/example_app/config/database.yml? (enter &quot;h&quot; for help) [Ynaqdhm] Y</span><br><span class="line">       force  config/database.yml</span><br><span class="line">        gsub  Gemfile</span><br><span class="line">        gsub  Gemfile</span><br></pre></td></tr></table></figure>
<p>Our <code>database.yml</code> is now changed to contain the configuration for MySQL database and the Gemfile also gets updated automatically with addition of <code>mysql2</code> gem in place of <code>sqlite3</code>.</p>
<h2 id="References">References</h2>
<p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/configuring.html#configuring-a-database">Configuring Rails Applications ‚Äî Ruby on Rails Guides - https://guides.rubyonrails.org/configuring.html#configuring-a-database</a>(<a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/configuring.html#configuring-a-database">https://guides.rubyonrails.org/configuring.html#configuring-a-database</a>)</p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/getting_started.html">Getting Started with Rails ‚Äî Ruby on Rails Guides - https://guides.rubyonrails.org/getting_started.html</a></p>
<p>[3] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/configuring.html#database-pooling">Configuring Rails Applications ‚Äî Ruby on Rails Guides - https://guides.rubyonrails.org/configuring.html#database-pooling</a></p>
<p>[4] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://guides.rubyonrails.org/active_record_multiple_databases.html">Multiple Databases with Active Record ‚Äî Ruby on Rails Guides - https://guides.rubyonrails.org/active_record_multiple_databases.html</a></p>
<p>[5] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bigbinary.com/learn-rubyonrails-book/configure-and-connect-to-database">Configuring and connecting to a database | BigBinary - https://www.bigbinary.com/learn-rubyonrails-book/configure-and-connect-to-database</a></p>
<p>[6] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://gist.github.com/jwo/4512764">Sample config/database.yml from Rails. Postgres, MySQL, and SQLite - https://gist.github.com/jwo/4512764</a></p>
<p>[7] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://gist.github.com/datt/e12fa0da294e7a8f3ac96abee346a098">Rails Database yml examples for postgres sqlite and mysql - https://gist.github.com/datt/e12fa0da294e7a8f3ac96abee346a098</a></p>
<p>[8] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bigbinary.com/blog/rails-6-has-added-a-way-to-change-the-database-of-the-app">Rails 6 has added a way to change the database of the app | BigBinary Blog - https://www.bigbinary.com/blog/rails-6-has-added-a-way-to-change-the-database-of-the-app</a></p>
<p>[9] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rails/rails/pull/34832">Add rails db:system:change command by gmcgibbon ¬∑ Pull Request #34832 ¬∑ rails/rails - https://github.com/rails/rails/pull/34832</a></p>
<p>[10] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rails/rails/pull/33637">Part 2: Multi-db improvements, Refactor Active Record configurations by eileencodes ¬∑ Pull Request #33637 ¬∑ rails/rails - https://github.com/rails/rails/pull/33637</a></p>
<p>[11] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rails/rails/blob/main/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb">rails/postgresql_adapter.rb at main ¬∑ rails/rails - https://github.com/rails/rails/blob/main/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb</a></p>
<p>[12] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ged/ruby-pg">ged/ruby-pg: A PostgreSQL client library for Ruby - https://github.com/ged/ruby-pg</a></p>
<p>[13] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/brianmario/mysql2#connection-options">brianmario/mysql2: A modern, simple and very fast Mysql library for Ruby - binding to libmysql - https://github.com/brianmario/mysql2#connection-options</a></p>
<p>[14] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/brianmario/mysql2">brianmario/mysql2: A modern, simple and very fast Mysql library for Ruby - binding to libmysql - https://github.com/brianmario/mysql2</a></p>
<p>[15] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/sparklemotion/sqlite3-ruby">sparklemotion/sqlite3-ruby: Ruby bindings for the SQLite3 embedded database - https://github.com/sparklemotion/sqlite3-ruby</a></p>
<p>[16] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.sqlite.org/index.html">SQLite Home Page - https://www.sqlite.org/index.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/22/Cloud-Native/Cloud-Computing/Storage/Disk/Use-parted-and-xfs-growfs-to-resize-XFS-disk-partition-size/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/Cloud-Native/Cloud-Computing/Storage/Disk/Use-parted-and-xfs-growfs-to-resize-XFS-disk-partition-size/" class="post-title-link" itemprop="url">[Storage Disk] Use parted and xfs_growfs to resize XFS disk partition size</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-22 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:00+00:00">2020-08-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/" itemprop="url" rel="index"><span itemprop="name">Cloud Native</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/Cloud-Computing/" itemprop="url" rel="index"><span itemprop="name">Cloud Computing</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/Cloud-Computing/Storage/" itemprop="url" rel="index"><span itemprop="name">Storage</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/Cloud-Computing/Storage/Disk/" itemprop="url" rel="index"><span itemprop="name">Disk</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>4.3k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Resize-XFS-disk-partition-size">Resize XFS disk partition size</h2>
<p>XFS is a high-performance journaling file system created by Silicon Graphics, Inc. XFS is particularly proficient at parallel IO due to its allocation group based design. This enables extreme scalability of IO threads, filesystem bandwidth, file and filesystem size when spanning multiple storage devices.</p>
<p>GNU Parted is a program for creating and manipulating partition tables.</p>
<p>This article describe how to use <code>parted</code> and <code>xfs_growfs</code> to resize XFS disk partition size dynamically.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/22/Cloud-Native/Cloud-Computing/Storage/Disk/Use-parted-and-xfs-growfs-to-resize-XFS-disk-partition-size/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/15/Server-side-Rendering-SSR-ssr-prerender-run-prerender-to-render-SEO-HTML-within-the-docker-container/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/15/Server-side-Rendering-SSR-ssr-prerender-run-prerender-to-render-SEO-HTML-within-the-docker-container/" class="post-title-link" itemprop="url">[Server-side Rendering(SSR)] ssr-prerender run prerender to render SEO HTML within the docker container</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-15 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-15T00:00:00+00:00">2020-08-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Site/" itemprop="url" rel="index"><span itemprop="name">Site</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Site/Search-Engine-Optimization-SEO/" itemprop="url" rel="index"><span itemprop="name">Search Engine Optimization (SEO)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Site/Search-Engine-Optimization-SEO/SEO/" itemprop="url" rel="index"><span itemprop="name">SEO</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Site/Search-Engine-Optimization-SEO/SEO/Server-side-Rendering-SSR/" itemprop="url" rel="index"><span itemprop="name">Server-side Rendering(SSR)</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>4.4k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>SSR-Prerender</h1>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CloudoLife/ssr-prerender">ssr-prerender</a> is a wrapper to use <a target="_blank" rel="noopener external nofollow noreferrer" href="https://prerender.io">Prerender</a> to prerender HTML for SEO. It can run by <a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.docker.com/compose/">Docker Compose</a>, <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.docker.com/">Docker</a> or <a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.docker.com/compose/">Docker Compose</a> or Shell(Traditional).</p>
<h2 id="Prerender">Prerender</h2>
<p>Prerender is a node server that uses Headless Chrome to render HTML, screenshots, PDFs, and HAR files out of any web page. The Prerender server listens for an http request, takes the URL and loads it in Headless Chrome, waits for the page to finish loading by waiting for the network to be idle, and then returns your content.</p>
<p>It have some advantages:</p>
<ul>
<li>
<p>Loosely coupled<br>
No code or only a small codes need to modify no matter what technical architecture is used within Front-End or Back-End.</p>
</li>
<li>
<p>Out of the box<br>
Provide cache support, multiple render types(HTML, Image, PDF, HAR), Allowlist, Blacklist, etc.</p>
</li>
</ul>
<h2 id="Deployment-Diagram">Deployment Diagram</h2>
<p><img src="https://github.com/CloudoLife/ssr-prerender/blob/master/SSR-Prerender%20Deployment%20v1.1.png?raw=true" alt="SSR-Prerender Deployment"></p>
<p>Powered by <a target="_blank" rel="noopener external nofollow noreferrer" href="https://plantuml.com/deployment-diagram">PlantUML</a></p>
<h2 id="Prerequisites">Prerequisites</h2>
<ul>
<li>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.docker.com/">Docker - https://www.docker.com/</a></p>
<p>Developing apps today requires so much more than writing code. Multiple languages, frameworks, architectures, and discontinuous interfaces between tools for each lifecycle stage creates enormous complexity.</p>
<p>Docker simplifies and accelerates your workflow, while giving developers the freedom to innovate with their choice of tools, application stacks, and deployment environments for each project.</p>
<p>To learn more about all the features of Docker, see <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.docker.com/">Docker - https://www.docker.com/</a>.</p>
</li>
<li>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.docker.com/compose/">Docker Compose - https://docs.docker.com/compose/</a></p>
<p>Docker Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application‚Äôs services. Then, with a single command, you create and start all the services from your configuration.</p>
<p>To learn more about all the features of Docker Compose, see <a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.docker.com/compose/">Docker Compose - https://docs.docker.com/compose/</a>.</p>
</li>
<li>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.google.com/chrome/">Google Chrome - Download the Fast, Secure Browser from Google - https://www.google.com/chrome/</a></p>
<p>Google Chrome is the browser built by Google.</p>
<p>To learn more about all the features of Google Chrome, see the <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.google.com/chrome/">Google Chrome - Download the Fast, Secure Browser from Google - https://www.google.com/chrome/</a>.</p>
<p>It is optional while run within the docker container.</p>
</li>
</ul>
<h2 id="Configuration">Configuration</h2>
<p>You can change configuration within <a href=".env">.env</a> file.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">prerender/prerender: Node server that uses Headless Chrome to render a javascript-rendered page as HTML. To be used <span class="keyword">in</span> conjunction with prerender middleware.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">https://github.com/prerender/prerende</span></span><br><span class="line">CHROME_FLAGS=&quot;--no-sandbox, --headless, --disable-gpu, --remote-debugging-port=9222, --hide-scrollbars&quot;</span><br><span class="line">LOG_REQUESTS=false</span><br><span class="line">PORT=3000</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">memory or redis</span></span><br><span class="line">STORAGE_CACHE=memory</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">prerender-redis-cache/prerenderRedisCache.js at master ¬∑ JonathanBennett/prerender-redis-cache</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">https://github.com/JonathanBennett/prerender-redis-cache/blob/master/lib/prerenderRedisCache.js</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">REDISTOGO_URL=redis://redis:6379/0</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">REDISCLOUD_URL=redis://redis:6379/0</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">REDISGREEN_URL=redis://redis:6379/0</span></span><br><span class="line">REDIS_URL=redis://redis:6379/0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">prerender/prerender-memory-cache: In memory cache <span class="keyword">for</span> use with Prerender server</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">https://github.com/prerender/prerender-memory-cache</span></span><br><span class="line">CACHE_MAXSIZE=10000</span><br><span class="line">CACHE_TTL=3600</span><br></pre></td></tr></table></figure>
<h2 id="Run">Run</h2>
<p>Recommand to run ss-prerender with Docker Compose or Docker.</p>
<h3 id="Docker-Compose">Docker Compose</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>
<h3 id="Docker">Docker</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --name ssr-prerender -p 3000:3000 cloudolife/ssr-prerender:latest</span><br></pre></td></tr></table></figure>
<h3 id="Kubernetes">Kubernetes</h3>
<p>TBD</p>
<h3 id="Shell">Shell</h3>
<p>You can run ss-prerender from local shell or within a docker container.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node server.js</span><br></pre></td></tr></table></figure>
<p>That‚Äôs all.</p>
<h2 id="Test">Test</h2>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://localhost:3000/http://localhost:8080">http://localhost:3000/http://localhost:8080</a></p>
<h2 id="Upgrade">Upgrade</h2>
<h3 id="Google-Chrome">Google Chrome</h3>
<p>This repository has provider a Google Chrome version and will auto install while docker build process. But you can upgrade Google Chrome to the latest version by download and replace google-chrome-stable_current_amd64.deb file with the latest Google Chrome version.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb -O google-chrome-stable_current_amd64.deb</span><br></pre></td></tr></table></figure>
<p>Then, run command docker build . or docker-compose buiid to rebuild it.</p>
<h2 id="References">References</h2>
<p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/prerender/prerender">prerender/prerender: Node server that uses Headless Chrome to render a javascript-rendered page as HTML. To be used in conjunction with prerender middleware. - https://github.com/prerender/prerender</a></p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://prerender.io/">Prerender - Dynamic Rendering for Effective JavaScript SEO | Prerender - https://prerender.io/</a></p>
<p>[3] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://prerender.io/documentation">Prerender - Dynamic Rendering for Effective JavaScript SEO | Prerender - https://prerender.io/documentation</a></p>
<p>[4] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://prerender.com/">Prerender.com | Headless Chrome In The Cloud to Render HTML, Screenshots, PDFs, and HAR Files - https://prerender.com/</a></p>
<p>[5] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://prerender.com/documentation">Prerender.com | Documentation - https://prerender.com/documentation</a></p>
<p>[6] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/JonathanBennett/prerender-redis-cache/blob/master/lib/prerenderRedisCache.js">prerender-redis-cache/prerenderRedisCache.js at master ¬∑ JonathanBennett/prerender-redis-cache - https://github.com/JonathanBennett/prerender-redis-cache/blob/master/lib/prerenderRedisCache.js</a></p>
<p>[7] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/prerender/prerender-memory-cache">prerender/prerender-memory-cache: In memory cache for use with Prerender server - https://github.com/prerender/prerender-memory-cache</a></p>
<p>[8] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.docker.com/">Docker - https://www.docker.com/</a></p>
<p>[9] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.docker.com/compose/">Docker Compose - https://docs.docker.com/compose/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/15/Email/smtp.example.com/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/15/Email/smtp.example.com/" class="post-title-link" itemprop="url">[Email] Use exmail.qq.com SMTPS protocol to send email from Alibaba Cloud Cloud</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-15 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-15T00:00:00+00:00">2020-08-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/" itemprop="url" rel="index"><span itemprop="name">Infrastructure as Code (IaC)</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.2k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>For security reasons, Alibaba Cloud blocks outbound traffic on TCP port 25 by default. that You cannot connect to external addresses TCP port 25 from Alibaba Cloud Cloud servers (ECS).</p>
<h2 id="Background-Information">Background Information</h2>
<p>Blocking the outbound direction of TCP 25 port may affect your connection to the SMTP server of a third-party mail service provider through TCP 25 port to send external mail. If you need to use the cloud server on Alibaba Cloud to send external emails, it is recommended that you use Alibaba Cloud Mail products or use the 465 port provided by a third-party mail service provider.</p>
<p>Note If there are special scenarios, you must use TCP port 25 on the cloud server for external connections. Please submit a port 25 unblocking application in the security management and control platform. Alibaba Cloud will review the application reason you submitted and notify you of the review result by email.</p>
<h2 id="Configuration">Configuration</h2>
<p>Remember to replace the content within <code>&#123;&#123; &#125;&#125;</code> with your prefer value.</p>
<p>The <code>from_address</code> and <code>user</code> must be the same.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">smtp:</span></span><br><span class="line">  <span class="attr">from_address:</span> &#123;&#123; <span class="string">.Values.smtp.from_address</span> &#125;&#125; <span class="comment"># noreply@cloudolife.com</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">smtp.exmail.qq.com</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">465</span> <span class="comment"># not 25</span></span><br><span class="line">  <span class="attr">use_tls:</span> &#123;&#123; <span class="string">.Values.smtp.use_tls</span> &#125;&#125; <span class="comment"># true or false</span></span><br><span class="line">  <span class="attr">user:</span> &#123;&#123; <span class="string">.Values.smtp.user</span> &#125;&#125; <span class="comment"># noreply@cloudolife.com</span></span><br><span class="line">  <span class="attr">password:</span> &#123;&#123; <span class="string">.Values.smtp.password</span> &#125;&#125;</span><br><span class="line">  <span class="attr">enable_replies:</span> <span class="literal">false</span> <span class="comment"># or true</span></span><br></pre></td></tr></table></figure>
<h2 id="FAQs">FAQs</h2>
<h3 id="smtp-or-smtps">smtp or smtps.</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The $MAIL_URL is &#x27;smtp://...:465&#x27;.  You probably want &#x27;smtps://&#x27; (The &#x27;s&#x27; enables TLS/SSL) since &#x27;465&#x27; is typically a secure port. undefined </span><br></pre></td></tr></table></figure>
<p>Use smtps protocols and 465 port instead of smtp and 25.</p>
<h3 id="Error-code-501">Error code 501</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in defer callback: Error: Mail command failed: 501 √è¬µ√ç¬≥√í√ë√á¬ø√ñ√Ü¬ø¬™√Ü√¥√ï√ä¬∫√Ö√â√Ω¬º¬∂√â√®√ñ√É¬£¬¨√á√´¬µ√á√Ç¬ºexmail.qq.com¬∞√≥¬∂¬®√é¬¢√ê√Ö</span><br></pre></td></tr></table></figure>
<p>This is because Tencent Enterprise Mailbox forced to enable the security certification before send email from client.</p>
<p>You can log in Tencent Enterprise Mailbox Administrator Web UI, find the sender‚Äôs account, and edit it to disable <code>enforce secure login</code> option.</p>
<h2 id="References">References</h2>
<p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://exmail.qq.com/">ËÖæËÆØ‰ºÅ‰∏öÈÇÆÁÆ± - https://exmail.qq.com/</a></p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://help.aliyun.com/document_detail/56130.html">TCP 25Á´ØÂè£Ëß£Â∞ÅÁî≥ËØ∑ - ÈòøÈáå‰∫ë - https://help.aliyun.com/document_detail/56130.html</a></p>
<p>[3] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_30258027/article/details/95448730?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control">ÈòøÈáå‰∫ëÊúçÂä°Âô®‰∏çËÉΩÂèëÈÇÆ‰ª∂Á¶ÅÁî®25Á´ØÂè£ÁöÑ‰∏âÁßçËß£ÂÜ≥ÊñπÊ≥ï_weixin_30258027ÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢ - https://blog.csdn.net/weixin_30258027/article/details/95448730?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/15/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Manage-PostgreSQL-database-with-Terraform-PostgreSQL-Provider/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/15/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Manage-PostgreSQL-database-with-Terraform-PostgreSQL-Provider/" class="post-title-link" itemprop="url">[Infrastructure as Code (IaC)] Manage PostgreSQL database with Terraform PostgreSQL Provider</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-15 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-15T00:00:00+00:00">2020-08-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/" itemprop="url" rel="index"><span itemprop="name">Infrastructure as Code (IaC)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/Terraform/" itemprop="url" rel="index"><span itemprop="name">Terraform</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>2 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>Terraform PostgreSQL Database Examples</h1>
<p>Examples about using Terraform PostgreSQL Provider to manage databases and roles(users).</p>
<p>Github: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CloudoLife/terraform-postgresql-examples">https://github.com/CloudoLife/terraform-postgresql-examples</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/15/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Manage-PostgreSQL-database-with-Terraform-PostgreSQL-Provider/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/15/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Terraform-Aliyun-Monitor-Examples-about-using-Terraform-Alibaba-Cloud-Provider-to-manage-alarm-rules-and-monitor-sites/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/15/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Terraform-Aliyun-Monitor-Examples-about-using-Terraform-Alibaba-Cloud-Provider-to-manage-alarm-rules-and-monitor-sites/" class="post-title-link" itemprop="url">[Infrastructure as Code (IaC)] Terraform Aliyun Monitor Examples about using Terraform Alibaba Cloud Provider to manage alarm rules and monitor sites</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-08-15 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-15T00:00:00+00:00">2020-08-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/" itemprop="url" rel="index"><span itemprop="name">Infrastructure as Code (IaC)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Infrastructure-as-Code-IaC/Terraform/" itemprop="url" rel="index"><span itemprop="name">Terraform</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>3.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>3 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1>Terraform Aliyun Monitor Examples</h1>
<p>Examples about using Terraform Alibaba Cloud Provider to manage alarm rules and monitor sites.</p>
<p>Github: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/CloudoLife/terraform-aliyun-monitor-examples">https://github.com/CloudoLife/terraform-aliyun-monitor-examples</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/15/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Terraform-Aliyun-Monitor-Examples-about-using-Terraform-Alibaba-Cloud-Provider-to-manage-alarm-rules-and-monitor-sites/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/41/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><span class="page-number current">42</span><a class="page-number" href="/page/43/">43</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/43/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">CloudoLife</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">2.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">39:58</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener external nofollow noreferrer" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"CloudoLife","repo":"col-hexo-CloudoLife.github.io","client_id":"4ca3ae8fb3a49237db9a","client_secret":"98d6652508799ef4350ab05aabe855e58f549112","admin_user":"benjamincloudolife","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"7715e5e788769ecaac9de6946ec2c295"}</script>
<script src="/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
