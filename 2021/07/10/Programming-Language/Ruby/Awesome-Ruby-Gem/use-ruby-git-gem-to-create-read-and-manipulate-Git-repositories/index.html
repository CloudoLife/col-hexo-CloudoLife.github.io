<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="sJgro_9-KyRL3EkTM5KW84pQPrg2Fv1KdkibDRBIulE">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"cloudolife.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.23.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="ruby-git The Git Gem provides an API that can be used to create, read, and manipulate Git repositories by wrapping system calls to the git binary. The API can be used for working with Git in complex i">
<meta property="og:type" content="article">
<meta property="og:title" content="[Awesome Ruby Gem] Use git gem to create, read, and manipulate Git repositories">
<meta property="og:url" content="https://cloudolife.com/2021/07/10/Programming-Language/Ruby/Awesome-Ruby-Gem/use-ruby-git-gem-to-create-read-and-manipulate-Git-repositories/index.html">
<meta property="og:site_name" content="Cloud-oriented Life">
<meta property="og:description" content="ruby-git The Git Gem provides an API that can be used to create, read, and manipulate Git repositories by wrapping system calls to the git binary. The API can be used for working with Git in complex i">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-10T00:00:00.000Z">
<meta property="article:modified_time" content="2025-06-10T09:49:34.938Z">
<meta property="article:author" content="CloudoLife">
<meta property="article:tag" content="Ruby">
<meta property="article:tag" content="Git">
<meta property="article:tag" content="Programming Language">
<meta property="article:tag" content="Awesome Ruby Gem">
<meta property="article:tag" content="ruby-git">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://cloudolife.com/2021/07/10/Programming-Language/Ruby/Awesome-Ruby-Gem/use-ruby-git-gem-to-create-read-and-manipulate-Git-repositories/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cloudolife.com/2021/07/10/Programming-Language/Ruby/Awesome-Ruby-Gem/use-ruby-git-gem-to-create-read-and-manipulate-Git-repositories/","path":"2021/07/10/Programming-Language/Ruby/Awesome-Ruby-Gem/use-ruby-git-gem-to-create-read-and-manipulate-Git-repositories/","title":"[Awesome Ruby Gem] Use git gem to create, read, and manipulate Git repositories"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[Awesome Ruby Gem] Use git gem to create, read, and manipulate Git repositories | Cloud-oriented Life</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y9QPJWXQN"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-8Y9QPJWXQN","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?995d7016a56cfd5c2ef6f2e6640a670e"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>






  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






<script data-ad-client="ca-pub-8693122033969144" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Cloud-oriented Life" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Cloud-oriented Life</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Cloud Native Technology Improves Lives</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">1646</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">331</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">584</span></a></li><li class="menu-item menu-item-ansible"><a href="/tags/Ansible/" rel="section"><i class="fa fa-book fa-fw"></i>Ansible</a></li><li class="menu-item menu-item-awesome-software"><a href="/tags/Awesome-Software/" rel="section"><i class="fa fa-book fa-fw"></i>Awesome Software</a></li><li class="menu-item menu-item-golang-(go)"><a href="/tags/Golang-Go/" rel="section"><i class="fa fa-book fa-fw"></i>Golang (Go)</a></li><li class="menu-item menu-item-helm"><a href="/tags/Helm/" rel="section"><i class="fa fa-book fa-fw"></i>Helm</a></li><li class="menu-item menu-item-java"><a href="/tags/Java/" rel="section"><i class="fa fa-book fa-fw"></i>Java</a></li><li class="menu-item menu-item-javascript"><a href="/tags/JavaScript/" rel="section"><i class="fa fa-book fa-fw"></i>JavaScript</a></li><li class="menu-item menu-item-knative"><a href="/tags/Knative/" rel="section"><i class="fa fa-book fa-fw"></i>Knative</a></li><li class="menu-item menu-item-kubernetes-(k8s)"><a href="/tags/Kubernetes-K8S/" rel="section"><i class="fa fa-book fa-fw"></i>Kubernetes (K8S)</a></li><li class="menu-item menu-item-macos"><a href="/tags/macOS/" rel="section"><i class="fa fa-book fa-fw"></i>macOS</a></li><li class="menu-item menu-item-python"><a href="/tags/Python/" rel="section"><i class="fa fa-book fa-fw"></i>Python</a></li><li class="menu-item menu-item-pulumi"><a href="/tags/Pulumi/" rel="section"><i class="fa fa-book fa-fw"></i>Pulumi</a></li><li class="menu-item menu-item-react"><a href="/tags/React/" rel="section"><i class="fa fa-book fa-fw"></i>React</a></li><li class="menu-item menu-item-ruby"><a href="/tags/Ruby/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby</a></li><li class="menu-item menu-item-ruby-on-rails"><a href="/tags/Ruby-on-Rails-RoR/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby On Rails</a></li><li class="menu-item menu-item-rust"><a href="/tags/Rust/" rel="section"><i class="fa fa-book fa-fw"></i>Rust</a></li><li class="menu-item menu-item-serverless"><a href="/tags/Serverless/" rel="section"><i class="fa fa-book fa-fw"></i>Serverless</a></li><li class="menu-item menu-item-service-mesh"><a href="/tags/Service-Mesh/" rel="section"><i class="fa fa-book fa-fw"></i>Service Mesh</a></li><li class="menu-item menu-item-svelte"><a href="/tags/Svelte/" rel="section"><i class="fa fa-book fa-fw"></i>Svelte</a></li><li class="menu-item menu-item-taro"><a href="/tags/Taro/" rel="section"><i class="fa fa-book fa-fw"></i>Taro</a></li><li class="menu-item menu-item-terraform"><a href="/tags/Terraform/" rel="section"><i class="fa fa-book fa-fw"></i>Terraform</a></li><li class="menu-item menu-item-typescript"><a href="/tags/TypeScript/" rel="section"><i class="fa fa-book fa-fw"></i>TypeScript</a></li><li class="menu-item menu-item-about"><a href="/about-us/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">ruby-git</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installation"><span class="nav-number">1.1.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Usages"><span class="nav-number">1.2.</span> <span class="nav-text">Usages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Major-Objects"><span class="nav-number">1.2.1.</span> <span class="nav-text">Major Objects</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples"><span class="nav-number">1.2.2.</span> <span class="nav-text">Examples</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-number">1.3.</span> <span class="nav-text">References</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CloudoLife</p>
  <div class="site-description" itemprop="description">A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">584</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">331</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1646</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/CloudoLife" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/CloudoLife" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://cloudolife.cn/" title="https:&#x2F;&#x2F;cloudolife.cn" rel="noopener external nofollow noreferrer" target="_blank">CLoudoLife - Chinese (Simplified)</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2021/07/10/Programming-Language/Ruby/Awesome-Ruby-Gem/use-ruby-git-gem-to-create-read-and-manipulate-Git-repositories/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[Awesome Ruby Gem] Use git gem to create, read, and manipulate Git repositories | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Awesome Ruby Gem] Use git gem to create, read, and manipulate Git repositories
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-10T00:00:00+00:00">2021-07-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/" itemprop="url" rel="index"><span itemprop="name">Programming Language</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/" itemprop="url" rel="index"><span itemprop="name">Ruby</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Language/Ruby/Awesome-Ruby-Gem/" itemprop="url" rel="index"><span itemprop="name">Awesome Ruby Gem</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>9.4k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>9 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1>ruby-git</h1>
<p>The Git Gem provides an API that can be used to create, read, and manipulate Git repositories by wrapping system calls to the <code>git</code> binary. The API can be used for working with Git in complex interactions including branching and merging, object inspection and manipulation, history, patch generation and more.</p>
<span id="more"></span>
<h2 id="Installation">Installation</h2>
<p>You can install it as a gem:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">gem install git</span></span><br></pre></td></tr></table></figure>
<p>or add it into a Gemfile (Bundler):</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Gemfile</span></span><br><span class="line"></span><br><span class="line">gem <span class="string">&#x27;git&#x27;</span>, <span class="string">&#x27;1.9.1&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Then, run <code>bundle install</code>.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">bundle install</span></span><br></pre></td></tr></table></figure>
<h2 id="Usages">Usages</h2>
<h3 id="Major-Objects">Major Objects</h3>
<p><code>Git::Base</code> - The object returned from a <code>Git.open</code> or <code>Git.clone</code>. Most major actions are called from this object.</p>
<p><code>Git::Object</code> - The base object for your tree, blob and commit objects, returned from <code>@git.gtree</code> or <code>@git.object</code> calls. the <code>Git::AbstractObject</code> will have most of the calls in common for all those objects.</p>
<p><code>Git::Diff</code> - returns from a @git.diff command. It is an Enumerable that returns <code>Git::Diff:DiffFile</code> objects from which you can get per file patches and insertion/deletion statistics. You can also get total statistics from the <code>Git::Diff</code> object directly.</p>
<p><code>Git::Status</code> - returns from a @git.status command. It is an Enumerable that returns <code>Git:Status::StatusFile</code> objects for each object in git, which includes files in the working directory, in the index and in the repository. Similar to running ‘git status’ on the command line to determine untracked and changed files.</p>
<p><code>Git::Branches</code> - Enumerable object that holds <code>Git::Branch</code> objects. You can call <code>.local</code> or <code>.remote</code> on it to filter to just your local or remote branches.</p>
<p><code>Git::Remote</code> - A reference to a remote repository that is tracked by this repository.</p>
<p><code>Git::Log</code> - An Enumerable object that references all the <code>Git::Object::Commit</code> objects that encompass your log query, which can be constructed through methods on the Git::Log object, like:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@git</span>.log(<span class="number">20</span>).object(<span class="string">&quot;some_file&quot;</span>).since(<span class="string">&quot;2 weeks ago&quot;</span>).between(<span class="string">&#x27;v2.6&#x27;</span>, <span class="string">&#x27;v2.7&#x27;</span>).each &#123; |<span class="params">commit</span>| [block] &#125;</span><br></pre></td></tr></table></figure>
<p><code>Git::Worktrees</code> - Enumerable object that holds <code>Git::Worktree</code> objects.</p>
<h3 id="Examples">Examples</h3>
<p>Here are a bunch of examples of how to use the Ruby/Git package.</p>
<p>Require the ‘git’ gem.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&#x27;git&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Git env config</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Git</span>.configure <span class="keyword">do</span> |<span class="params">config</span>|</span><br><span class="line">  <span class="comment"># If you want to use a custom git binary</span></span><br><span class="line">  config.binary_path = <span class="string">&#x27;/git/bin/path&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If you need to use a custom SSH script</span></span><br><span class="line">  config.git_ssh = <span class="string">&#x27;/path/to/ssh/script&#x27;</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>NOTE: Another way to specify where is the git binary is through the environment variable <code>GIT_PATH</code></p>
<p>Here are the operations that need read permission only.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">g = <span class="title class_">Git</span>.open(working_dir, <span class="symbol">:log</span> =&gt; <span class="title class_">Logger</span>.new(<span class="variable constant_">STDOUT</span>))</span><br><span class="line"></span><br><span class="line">g.index</span><br><span class="line">g.index.readable?</span><br><span class="line">g.index.writable?</span><br><span class="line">g.repo</span><br><span class="line">g.dir</span><br><span class="line"></span><br><span class="line">g.log   <span class="comment"># returns array of Git::Commit objects</span></span><br><span class="line">g.log.since(<span class="string">&#x27;2 weeks ago&#x27;</span>)</span><br><span class="line">g.log.between(<span class="string">&#x27;v2.5&#x27;</span>, <span class="string">&#x27;v2.6&#x27;</span>)</span><br><span class="line">g.log.each &#123;|<span class="params">l</span>| puts l.sha &#125;</span><br><span class="line">g.gblob(<span class="string">&#x27;v2.5:Makefile&#x27;</span>).log.since(<span class="string">&#x27;2 weeks ago&#x27;</span>)</span><br><span class="line"></span><br><span class="line">g.object(<span class="string">&#x27;HEAD^&#x27;</span>).to_s  <span class="comment"># git show / git rev-parse</span></span><br><span class="line">g.object(<span class="string">&#x27;HEAD^&#x27;</span>).contents</span><br><span class="line">g.object(<span class="string">&#x27;v2.5:Makefile&#x27;</span>).size</span><br><span class="line">g.object(<span class="string">&#x27;v2.5:Makefile&#x27;</span>).sha</span><br><span class="line"></span><br><span class="line">g.gtree(treeish)</span><br><span class="line">g.gblob(treeish)</span><br><span class="line">g.gcommit(treeish)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">commit = g.gcommit(<span class="string">&#x27;1cc8667014381&#x27;</span>)</span><br><span class="line"></span><br><span class="line">commit.gtree</span><br><span class="line">commit.parent.sha</span><br><span class="line">commit.parents.size</span><br><span class="line">commit.author.name</span><br><span class="line">commit.author.email</span><br><span class="line">commit.author.date.strftime(<span class="string">&quot;%m-%d-%y&quot;</span>)</span><br><span class="line">commit.committer.name</span><br><span class="line">commit.date.strftime(<span class="string">&quot;%m-%d-%y&quot;</span>)</span><br><span class="line">commit.message</span><br><span class="line"></span><br><span class="line">tree = g.gtree(<span class="string">&quot;HEAD^&#123;tree&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line">tree.blobs</span><br><span class="line">tree.subtrees</span><br><span class="line">tree.children <span class="comment"># blobs and subtrees</span></span><br><span class="line"></span><br><span class="line">g.revparse(<span class="string">&#x27;v2.5:Makefile&#x27;</span>)</span><br><span class="line"></span><br><span class="line">g.branches <span class="comment"># returns Git::Branch objects</span></span><br><span class="line">g.branches.local</span><br><span class="line">g.current_branch</span><br><span class="line">g.branches.remote</span><br><span class="line">g.branches[<span class="symbol">:master</span>].gcommit</span><br><span class="line">g.branches[<span class="string">&#x27;origin/master&#x27;</span>].gcommit</span><br><span class="line"></span><br><span class="line">g.grep(<span class="string">&#x27;hello&#x27;</span>)  <span class="comment"># implies HEAD</span></span><br><span class="line">g.blob(<span class="string">&#x27;v2.5:Makefile&#x27;</span>).grep(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">g.tag(<span class="string">&#x27;v2.5&#x27;</span>).grep(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;docs/&#x27;</span>)</span><br><span class="line">g.describe()</span><br><span class="line">g.describe(<span class="string">&#x27;0djf2aa&#x27;</span>)</span><br><span class="line">g.describe(<span class="string">&#x27;HEAD&#x27;</span>, &#123;<span class="symbol">:all</span> =&gt; <span class="literal">true</span>, <span class="symbol">:tags</span> =&gt; <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">g.diff(commit1, commit2).size</span><br><span class="line">g.diff(commit1, commit2).stats</span><br><span class="line">g.diff(commit1, commit2).name_status</span><br><span class="line">g.gtree(<span class="string">&#x27;v2.5&#x27;</span>).diff(<span class="string">&#x27;v2.6&#x27;</span>).insertions</span><br><span class="line">g.diff(<span class="string">&#x27;gitsearch1&#x27;</span>, <span class="string">&#x27;v2.5&#x27;</span>).path(<span class="string">&#x27;lib/&#x27;</span>)</span><br><span class="line">g.diff(<span class="string">&#x27;gitsearch1&#x27;</span>, <span class="variable">@git</span>.gtree(<span class="string">&#x27;v2.5&#x27;</span>))</span><br><span class="line">g.diff(<span class="string">&#x27;gitsearch1&#x27;</span>, <span class="string">&#x27;v2.5&#x27;</span>).path(<span class="string">&#x27;docs/&#x27;</span>).patch</span><br><span class="line">g.gtree(<span class="string">&#x27;v2.5&#x27;</span>).diff(<span class="string">&#x27;v2.6&#x27;</span>).patch</span><br><span class="line"></span><br><span class="line">g.gtree(<span class="string">&#x27;v2.5&#x27;</span>).diff(<span class="string">&#x27;v2.6&#x27;</span>).each <span class="keyword">do</span> |<span class="params">file_diff</span>|</span><br><span class="line">  puts file_diff.path</span><br><span class="line">  puts file_diff.patch</span><br><span class="line">  puts file_diff.blob(<span class="symbol">:src</span>).contents</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">g.worktrees <span class="comment"># returns Git::Worktree objects</span></span><br><span class="line">g.worktrees.count</span><br><span class="line">g.worktrees.each <span class="keyword">do</span> |<span class="params">worktree</span>|</span><br><span class="line">  worktree.dir</span><br><span class="line">  worktree.gcommit</span><br><span class="line">  worktree.to_s</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">g.config(<span class="string">&#x27;user.name&#x27;</span>)  <span class="comment"># returns &#x27;Scott Chacon&#x27;</span></span><br><span class="line">g.config <span class="comment"># returns whole config hash</span></span><br><span class="line"></span><br><span class="line">g.tags <span class="comment"># returns array of Git::Tag objects</span></span><br><span class="line"></span><br><span class="line">g.show()</span><br><span class="line">g.show(<span class="string">&#x27;HEAD&#x27;</span>)</span><br><span class="line">g.show(<span class="string">&#x27;v2.8&#x27;</span>, <span class="string">&#x27;README.md&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Git</span>.ls_remote(<span class="string">&#x27;https://github.com/ruby-git/ruby-git.git&#x27;</span>) <span class="comment"># returns a hash containing the available references of the repo.</span></span><br><span class="line"><span class="title class_">Git</span>.ls_remote(<span class="string">&#x27;/path/to/local/repo&#x27;</span>)</span><br><span class="line"><span class="title class_">Git</span>.ls_remote() <span class="comment"># same as Git.ls_remote(&#x27;.&#x27;)</span></span><br></pre></td></tr></table></figure>
<p>And here are the operations that will need to write to your git repository.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">g = <span class="title class_">Git</span>.init</span><br><span class="line">  <span class="title class_">Git</span>.init(<span class="string">&#x27;project&#x27;</span>)</span><br><span class="line">  <span class="title class_">Git</span>.init(<span class="string">&#x27;/home/schacon/proj&#x27;</span>,</span><br><span class="line">  &#123; <span class="symbol">:repository</span> =&gt; <span class="string">&#x27;/opt/git/proj.git&#x27;</span>,</span><br><span class="line">      <span class="symbol">:index</span> =&gt; <span class="string">&#x27;/tmp/index&#x27;</span>&#125; )</span><br><span class="line"></span><br><span class="line">g = <span class="title class_">Git</span>.clone(<span class="variable constant_">URI</span>, <span class="variable constant_">NAME</span>, <span class="symbol">:path</span> =&gt; <span class="string">&#x27;/tmp/checkout&#x27;</span>)</span><br><span class="line">g.config(<span class="string">&#x27;user.name&#x27;</span>, <span class="string">&#x27;Scott Chacon&#x27;</span>)</span><br><span class="line">g.config(<span class="string">&#x27;user.email&#x27;</span>, <span class="string">&#x27;email@email.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Clone can take an optional logger</span></span><br><span class="line">logger = <span class="title class_">Logger</span>.new</span><br><span class="line">g = <span class="title class_">Git</span>.clone(<span class="variable constant_">URI</span>, <span class="variable constant_">NAME</span>, <span class="symbol">:log</span> =&gt; logger)</span><br><span class="line"></span><br><span class="line">g.add                                   <span class="comment"># git add -- &quot;.&quot;</span></span><br><span class="line">g.add(<span class="symbol">:all=&gt;true</span>)                       <span class="comment"># git add --all -- &quot;.&quot;</span></span><br><span class="line">g.add(<span class="string">&#x27;file_path&#x27;</span>)                      <span class="comment"># git add -- &quot;file_path&quot;</span></span><br><span class="line">g.add([<span class="string">&#x27;file_path_1&#x27;</span>, <span class="string">&#x27;file_path_2&#x27;</span>])   <span class="comment"># git add -- &quot;file_path_1&quot; &quot;file_path_2&quot;</span></span><br><span class="line"></span><br><span class="line">g.remove()									<span class="comment"># git rm -f -- &quot;.&quot;</span></span><br><span class="line">g.remove(<span class="string">&#x27;file.txt&#x27;</span>)						<span class="comment"># git rm -f -- &quot;file.txt&quot;</span></span><br><span class="line">g.remove([<span class="string">&#x27;file.txt&#x27;</span>, <span class="string">&#x27;file2.txt&#x27;</span>])		<span class="comment"># git rm -f -- &quot;file.txt&quot; &quot;file2.txt&quot;</span></span><br><span class="line">g.remove(<span class="string">&#x27;file.txt&#x27;</span>, <span class="symbol">:recursive</span> =&gt; <span class="literal">true</span>) 	<span class="comment"># git rm -f -r -- &quot;file.txt&quot;</span></span><br><span class="line">g.remove(<span class="string">&#x27;file.txt&#x27;</span>, <span class="symbol">:cached</span> =&gt; <span class="literal">true</span>)		<span class="comment"># git rm -f --cached -- &quot;file.txt&quot;</span></span><br><span class="line"></span><br><span class="line">g.commit(<span class="string">&#x27;message&#x27;</span>)</span><br><span class="line">g.commit_all(<span class="string">&#x27;message&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sign a commit using the gpg key configured in the user.signingkey config setting</span></span><br><span class="line">g.config(<span class="string">&#x27;user.signingkey&#x27;</span>, <span class="string">&#x27;0A46826A&#x27;</span>)</span><br><span class="line">g.commit(<span class="string">&#x27;message&#x27;</span>, <span class="symbol">gpg_sign:</span> <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sign a commit using a specified gpg key</span></span><br><span class="line">key_id = <span class="string">&#x27;0A46826A&#x27;</span></span><br><span class="line">g.commit(<span class="string">&#x27;message&#x27;</span>, <span class="symbol">gpg_sign:</span> key_id)</span><br><span class="line"></span><br><span class="line">g = <span class="title class_">Git</span>.clone(repo, <span class="string">&#x27;myrepo&#x27;</span>)</span><br><span class="line">g.chdir <span class="keyword">do</span></span><br><span class="line">new_file(<span class="string">&#x27;test-file&#x27;</span>, <span class="string">&#x27;blahblahblah&#x27;</span>)</span><br><span class="line">g.status.changed.each <span class="keyword">do</span> |<span class="params">file</span>|</span><br><span class="line">  puts file.blob(<span class="symbol">:index</span>).contents</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">g.reset <span class="comment"># defaults to HEAD</span></span><br><span class="line">g.reset_hard(<span class="title class_">Git</span><span class="symbol">:</span><span class="symbol">:Commit</span>)</span><br><span class="line"></span><br><span class="line">g.branch(<span class="string">&#x27;new_branch&#x27;</span>) <span class="comment"># creates new or fetches existing</span></span><br><span class="line">g.branch(<span class="string">&#x27;new_branch&#x27;</span>).checkout</span><br><span class="line">g.branch(<span class="string">&#x27;new_branch&#x27;</span>).delete</span><br><span class="line">g.branch(<span class="string">&#x27;existing_branch&#x27;</span>).checkout</span><br><span class="line">g.branch(<span class="string">&#x27;master&#x27;</span>).contains?(<span class="string">&#x27;existing_branch&#x27;</span>)</span><br><span class="line"></span><br><span class="line">g.checkout(<span class="string">&#x27;new_branch&#x27;</span>)</span><br><span class="line">g.checkout(g.branch(<span class="string">&#x27;new_branch&#x27;</span>))</span><br><span class="line"></span><br><span class="line">g.branch(name).merge(branch2)</span><br><span class="line">g.branch(branch2).merge  <span class="comment"># merges HEAD with branch2</span></span><br><span class="line"></span><br><span class="line">g.branch(name).in_branch(message) &#123; <span class="comment"># add files &#125;  # auto-commits</span></span><br><span class="line">g.merge(<span class="string">&#x27;new_branch&#x27;</span>)</span><br><span class="line">g.merge(<span class="string">&#x27;new_branch&#x27;</span>, <span class="string">&#x27;merge commit message&#x27;</span>, <span class="symbol">no_ff:</span> <span class="literal">true</span>)</span><br><span class="line">g.merge(<span class="string">&#x27;origin/remote_branch&#x27;</span>)</span><br><span class="line">g.merge(g.branch(<span class="string">&#x27;master&#x27;</span>))</span><br><span class="line">g.merge([branch1, branch2])</span><br><span class="line"></span><br><span class="line">g.merge_base(<span class="string">&#x27;branch1&#x27;</span>, <span class="string">&#x27;branch2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">r = g.add_remote(name, uri)  <span class="comment"># Git::Remote</span></span><br><span class="line">r = g.add_remote(name, <span class="title class_">Git</span><span class="symbol">:</span><span class="symbol">:Base</span>)  <span class="comment"># Git::Remote</span></span><br><span class="line"></span><br><span class="line">g.remotes  <span class="comment"># array of Git::Remotes</span></span><br><span class="line">g.remote(name).fetch</span><br><span class="line">g.remote(name).remove</span><br><span class="line">g.remote(name).merge</span><br><span class="line">g.remote(name).merge(branch)</span><br><span class="line"></span><br><span class="line">g.fetch</span><br><span class="line">g.fetch(g.remotes.first)</span><br><span class="line">g.fetch(<span class="string">&#x27;origin&#x27;</span>, &#123;<span class="symbol">:ref</span> =&gt; <span class="string">&#x27;some/ref/head&#x27;</span>&#125; )</span><br><span class="line"></span><br><span class="line">g.pull</span><br><span class="line">g.pull(<span class="title class_">Git</span><span class="symbol">:</span><span class="symbol">:Repo</span>, <span class="title class_">Git</span><span class="symbol">:</span><span class="symbol">:Branch</span>) <span class="comment"># fetch and a merge</span></span><br><span class="line"></span><br><span class="line">g.add_tag(<span class="string">&#x27;tag_name&#x27;</span>) <span class="comment"># returns Git::Tag</span></span><br><span class="line">g.add_tag(<span class="string">&#x27;tag_name&#x27;</span>, <span class="string">&#x27;object_reference&#x27;</span>)</span><br><span class="line">g.add_tag(<span class="string">&#x27;tag_name&#x27;</span>, <span class="string">&#x27;object_reference&#x27;</span>, &#123;<span class="symbol">:options</span> =&gt; <span class="string">&#x27;here&#x27;</span>&#125;)</span><br><span class="line">g.add_tag(<span class="string">&#x27;tag_name&#x27;</span>, &#123;<span class="symbol">:options</span> =&gt; <span class="string">&#x27;here&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Options</span>:</span><br><span class="line">  <span class="symbol">:a</span> |<span class="params"> :annotate</span></span><br><span class="line"><span class="params">  :d</span></span><br><span class="line"><span class="params">  :f</span></span><br><span class="line"><span class="params">  :m </span>| <span class="symbol">:message</span></span><br><span class="line">  <span class="symbol">:s</span></span><br><span class="line"></span><br><span class="line">g.delete_tag(<span class="string">&#x27;tag_name&#x27;</span>)</span><br><span class="line"></span><br><span class="line">g.repack</span><br><span class="line"></span><br><span class="line">g.push</span><br><span class="line">g.push(g.remote(<span class="string">&#x27;name&#x27;</span>))</span><br><span class="line"></span><br><span class="line">g.worktree(<span class="string">&#x27;/tmp/new_worktree&#x27;</span>).add</span><br><span class="line">g.worktree(<span class="string">&#x27;/tmp/new_worktree&#x27;</span>, <span class="string">&#x27;branch1&#x27;</span>).add</span><br><span class="line">g.worktree(<span class="string">&#x27;/tmp/new_worktree&#x27;</span>).remove</span><br><span class="line">g.worktrees.prune</span><br></pre></td></tr></table></figure>
<p>Some examples of more low-level index and tree operations</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">g.with_temp_index <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">  g.read_tree(tree3) <span class="comment"># calls self.index.read_tree</span></span><br><span class="line">  g.read_tree(tree1, <span class="symbol">:prefix</span> =&gt; <span class="string">&#x27;hi/&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  c = g.commit_tree(<span class="string">&#x27;message&#x27;</span>)</span><br><span class="line">  <span class="comment"># or #</span></span><br><span class="line">  t = g.write_tree</span><br><span class="line">  c = g.commit_tree(t, <span class="symbol">:message</span> =&gt; <span class="string">&#x27;message&#x27;</span>, <span class="symbol">:parents</span> =&gt; [sha1, sha2])</span><br><span class="line"></span><br><span class="line">  g.branch(<span class="string">&#x27;branch_name&#x27;</span>).update_ref(c)</span><br><span class="line">  g.update_ref(branch, c)</span><br><span class="line"></span><br><span class="line">  g.with_temp_working <span class="keyword">do</span> <span class="comment"># new blank working directory</span></span><br><span class="line">    g.checkout</span><br><span class="line">    g.checkout(another_index)</span><br><span class="line">    g.commit <span class="comment"># commits to temp_index</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">g.set_index(<span class="string">&#x27;/path/to/index&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">g.with_index(path) <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># calls set_index, then switches back after</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">g.with_working(dir) <span class="keyword">do</span></span><br><span class="line"><span class="comment"># calls set_working, then switches back after</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">g.with_temp_working(dir) <span class="keyword">do</span></span><br><span class="line">  g.checkout_index(<span class="symbol">:prefix</span> =&gt; dir, <span class="symbol">:path_limiter</span> =&gt; path)</span><br><span class="line">  <span class="comment"># do file work</span></span><br><span class="line">  g.commit <span class="comment"># commits to index</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="References">References</h2>
<p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ruby-git/ruby-git">ruby-git/ruby-git: Ruby/Git is a Ruby library that can be used to create, read and manipulate Git repositories by wrapping system calls to the git binary. - https://github.com/ruby-git/ruby-git</a></p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://rubygems.org/gems/git/">git | RubyGems.org | your community gem host - https://rubygems.org/gems/git/</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/bitcoin.png" alt="CloudoLife Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Ruby/" rel="tag"># Ruby</a>
              <a href="/tags/Git/" rel="tag"># Git</a>
              <a href="/tags/Programming-Language/" rel="tag"># Programming Language</a>
              <a href="/tags/Awesome-Ruby-Gem/" rel="tag"># Awesome Ruby Gem</a>
              <a href="/tags/ruby-git/" rel="tag"># ruby-git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/07/10/Programming-Language/Ruby/FAQs/Exception-Zlib-DataError-unknown-compression-method-when-use-rest-client-to-post-data-to-WeChat-Pay-Unifiedorder-API/" rel="prev" title="[Ruby FAQs] Exception: Zlib::DataError: unknown compression method when use rest-client post data to WeChat Pay Unifiedorder API">
                  <i class="fa fa-angle-left"></i> [Ruby FAQs] Exception: Zlib::DataError: unknown compression method when use rest-client post data to WeChat Pay Unifiedorder API
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/07/10/Programming-Language/Ruby/Awesome-Ruby-Gem/Use-working-hours-gem-to-calculate-working-hours/" rel="next" title="[Awesome Ruby Gem] Use working_hours gem to calculate working hours">
                  [Awesome Ruby Gem] Use working_hours gem to calculate working hours <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">CloudoLife</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">2.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">39:58</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener external nofollow noreferrer" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"CloudoLife","repo":"col-hexo-CloudoLife.github.io","client_id":"4ca3ae8fb3a49237db9a","client_secret":"98d6652508799ef4350ab05aabe855e58f549112","admin_user":"benjamincloudolife","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"1d5a98bf8f2810c9bf3b457045fcbb6a"}</script>
<script src="/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
