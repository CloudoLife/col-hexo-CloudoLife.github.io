<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="sJgro_9-KyRL3EkTM5KW84pQPrg2Fv1KdkibDRBIulE">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"cloudolife.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.23.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="update-kube-cert update-kube-cert is used to extended kubernetes cluster certificates that have expired or are about to expire. This script is suitable for all k8s version cluster certificate update (">
<meta property="og:type" content="article">
<meta property="og:title" content="[Kubernetes (K8S) Certificate] Use update-kube-cert shell script to extend Kubernetes (K8S) certificates expiration to 10 years">
<meta property="og:url" content="https://cloudolife.com/2021/07/03/Kubernetes-K8S/Certificate/Use-update-kubeadm-cert-shell-script-to-extend-Kubernetes-K8S-certificates-expiration-to-10-years/index.html">
<meta property="og:site_name" content="Cloud-oriented Life">
<meta property="og:description" content="update-kube-cert update-kube-cert is used to extended kubernetes cluster certificates that have expired or are about to expire. This script is suitable for all k8s version cluster certificate update (">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-03T00:00:00.000Z">
<meta property="article:modified_time" content="2025-06-10T09:49:34.918Z">
<meta property="article:author" content="CloudoLife">
<meta property="article:tag" content="Kubernetes (K8S)">
<meta property="article:tag" content="Cloud Native">
<meta property="article:tag" content="update-kube-cert">
<meta property="article:tag" content="kubeadm">
<meta property="article:tag" content="shell">
<meta property="article:tag" content="bash">
<meta property="article:tag" content="etcd">
<meta property="article:tag" content="Certificate">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://cloudolife.com/2021/07/03/Kubernetes-K8S/Certificate/Use-update-kubeadm-cert-shell-script-to-extend-Kubernetes-K8S-certificates-expiration-to-10-years/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cloudolife.com/2021/07/03/Kubernetes-K8S/Certificate/Use-update-kubeadm-cert-shell-script-to-extend-Kubernetes-K8S-certificates-expiration-to-10-years/","path":"2021/07/03/Kubernetes-K8S/Certificate/Use-update-kubeadm-cert-shell-script-to-extend-Kubernetes-K8S-certificates-expiration-to-10-years/","title":"[Kubernetes (K8S) Certificate] Use update-kube-cert shell script to extend Kubernetes (K8S) certificates expiration to 10 years"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[Kubernetes (K8S) Certificate] Use update-kube-cert shell script to extend Kubernetes (K8S) certificates expiration to 10 years | Cloud-oriented Life</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y9QPJWXQN"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-8Y9QPJWXQN","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?995d7016a56cfd5c2ef6f2e6640a670e"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>






  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






<script data-ad-client="ca-pub-8693122033969144" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Cloud-oriented Life" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Cloud-oriented Life</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Cloud Native Technology Improves Lives</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">1646</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">331</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">584</span></a></li><li class="menu-item menu-item-ansible"><a href="/tags/Ansible/" rel="section"><i class="fa fa-book fa-fw"></i>Ansible</a></li><li class="menu-item menu-item-awesome-software"><a href="/tags/Awesome-Software/" rel="section"><i class="fa fa-book fa-fw"></i>Awesome Software</a></li><li class="menu-item menu-item-golang-(go)"><a href="/tags/Golang-Go/" rel="section"><i class="fa fa-book fa-fw"></i>Golang (Go)</a></li><li class="menu-item menu-item-helm"><a href="/tags/Helm/" rel="section"><i class="fa fa-book fa-fw"></i>Helm</a></li><li class="menu-item menu-item-java"><a href="/tags/Java/" rel="section"><i class="fa fa-book fa-fw"></i>Java</a></li><li class="menu-item menu-item-javascript"><a href="/tags/JavaScript/" rel="section"><i class="fa fa-book fa-fw"></i>JavaScript</a></li><li class="menu-item menu-item-knative"><a href="/tags/Knative/" rel="section"><i class="fa fa-book fa-fw"></i>Knative</a></li><li class="menu-item menu-item-kubernetes-(k8s)"><a href="/tags/Kubernetes-K8S/" rel="section"><i class="fa fa-book fa-fw"></i>Kubernetes (K8S)</a></li><li class="menu-item menu-item-macos"><a href="/tags/macOS/" rel="section"><i class="fa fa-book fa-fw"></i>macOS</a></li><li class="menu-item menu-item-python"><a href="/tags/Python/" rel="section"><i class="fa fa-book fa-fw"></i>Python</a></li><li class="menu-item menu-item-pulumi"><a href="/tags/Pulumi/" rel="section"><i class="fa fa-book fa-fw"></i>Pulumi</a></li><li class="menu-item menu-item-react"><a href="/tags/React/" rel="section"><i class="fa fa-book fa-fw"></i>React</a></li><li class="menu-item menu-item-ruby"><a href="/tags/Ruby/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby</a></li><li class="menu-item menu-item-ruby-on-rails"><a href="/tags/Ruby-on-Rails-RoR/" rel="section"><i class="fa fa-book fa-fw"></i>Ruby On Rails</a></li><li class="menu-item menu-item-rust"><a href="/tags/Rust/" rel="section"><i class="fa fa-book fa-fw"></i>Rust</a></li><li class="menu-item menu-item-serverless"><a href="/tags/Serverless/" rel="section"><i class="fa fa-book fa-fw"></i>Serverless</a></li><li class="menu-item menu-item-service-mesh"><a href="/tags/Service-Mesh/" rel="section"><i class="fa fa-book fa-fw"></i>Service Mesh</a></li><li class="menu-item menu-item-svelte"><a href="/tags/Svelte/" rel="section"><i class="fa fa-book fa-fw"></i>Svelte</a></li><li class="menu-item menu-item-taro"><a href="/tags/Taro/" rel="section"><i class="fa fa-book fa-fw"></i>Taro</a></li><li class="menu-item menu-item-terraform"><a href="/tags/Terraform/" rel="section"><i class="fa fa-book fa-fw"></i>Terraform</a></li><li class="menu-item menu-item-typescript"><a href="/tags/TypeScript/" rel="section"><i class="fa fa-book fa-fw"></i>TypeScript</a></li><li class="menu-item menu-item-about"><a href="/about-us/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">update-kube-cert</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Usages"><span class="nav-number">1.1.</span> <span class="nav-text">Usages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Download-script"><span class="nav-number">1.1.1.</span> <span class="nav-text">Download script</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Update-certificate"><span class="nav-number">1.1.2.</span> <span class="nav-text">Update certificate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rollback-of-certificate-update-failure"><span class="nav-number">1.1.3.</span> <span class="nav-text">Rollback of certificate update failure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Other"><span class="nav-number">1.1.4.</span> <span class="nav-text">Other</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FAQs"><span class="nav-number">1.2.</span> <span class="nav-text">FAQs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Can%E2%80%99t-open-etc-kubernetes-pki-etcd-ca-crt-for-reading-No-such-file-or-directory"><span class="nav-number">1.2.1.</span> <span class="nav-text">Can’t open &#x2F;etc&#x2F;kubernetes&#x2F;pki&#x2F;etcd&#x2F;ca.crt for reading, No such file or directory</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-number">1.3.</span> <span class="nav-text">References</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CloudoLife</p>
  <div class="site-description" itemprop="description">A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">584</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">331</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1646</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/CloudoLife" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/CloudoLife" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;CloudoLife" rel="noopener me external nofollow noreferrer" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://cloudolife.cn/" title="https:&#x2F;&#x2F;cloudolife.cn" rel="noopener external nofollow noreferrer" target="_blank">CLoudoLife - Chinese (Simplified)</a>
            </li>
        </ul>
      </div>
    </div>
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2021/07/03/Kubernetes-K8S/Certificate/Use-update-kubeadm-cert-shell-script-to-extend-Kubernetes-K8S-certificates-expiration-to-10-years/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
      <meta itemprop="description" content="A Husband and Father, Knowledge Worker, Full-skilled Cloud Engineer">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[Kubernetes (K8S) Certificate] Use update-kube-cert shell script to extend Kubernetes (K8S) certificates expiration to 10 years | Cloud-oriented Life">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Kubernetes (K8S) Certificate] Use update-kube-cert shell script to extend Kubernetes (K8S) certificates expiration to 10 years
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-03T00:00:00+00:00">2021-07-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-06-10 09:49:34" itemprop="dateModified" datetime="2025-06-10T09:49:34+00:00">2025-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/" itemprop="url" rel="index"><span itemprop="name">Cloud Native</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/Kubernetes-K8S/" itemprop="url" rel="index"><span itemprop="name">Kubernetes (K8S)</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Cloud-Native/Kubernetes-K8S/Certificate/" itemprop="url" rel="index"><span itemprop="name">Certificate</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>9.6k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>9 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1>update-kube-cert</h1>
<p>update-kube-cert is used to extended kubernetes cluster certificates that have expired or are about to expire.</p>
<p>This script is suitable for all k8s version cluster certificate update (using <code>kubeadm</code> initialized cluster).</p>
<span id="more"></span>
<p>The validity period of the certificate generated by <code>kubeadm</code> is 1 year, this script can update the validity period of the certificate generated by <code>kubeadm</code> to 10 years.</p>
<p>This script only processes the certificate on the <code>master</code> node. The <code>kubelet</code> certificate of the work node is automatically rotated and updated by default. You don’t need to care about the expiration issue, you only need to care about the certificate on the <code>master</code> node.</p>
<h2 id="Usages">Usages</h2>
<p>The script only needs to be executed on the <code>master</code> node, not on the work node</p>
<p>If there is no <code>etcd</code> related certificate, you only need to update the <code>master</code> certificate, see here (less than or equal to v1.9 version, etcd does not use TLS connection by default)</p>
<p>Follow the steps below to update the certificate by default</p>
<h3 id="Download-script">Download script</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/yuyicai/update-kube-cert.git</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> update-kubeadm-cert</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">chmod</span> 755 update-kubeadm-cert.sh</span></span><br></pre></td></tr></table></figure>
<p>When executing, please use <code>./update-kubeadm-cert.sh all</code> or <code>bash update-kubeadm-cert.sh</code> all, do not use <code>sh update-kubeadm-cert.sh all</code>, because some Linux distributions <code>sh</code> are not linked to <code>bash</code>. May be incompatible</p>
<h3 id="Update-certificate">Update certificate</h3>
<p>If there are multiple <code>master</code> nodes, execute once on each <code>master</code> node</p>
<p>Excuting an order:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./update-kubeadm-cert.sh all</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Not etcd</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">$ ./update-kubeadm-cert.sh master</span></span><br></pre></td></tr></table></figure>
<p>Output similar information</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">CERTIFICATE EXPIRES</span><br><span class="line">/etc/kubernetes/controller-manager.config Sep 12 08:38:56 2022 GMT</span><br><span class="line">/etc/kubernetes/scheduler.config Sep 12 08:38:56 2022 GMT</span><br><span class="line">/etc/kubernetes/admin.config Sep 12 08:38:56 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/ca.crt Sep 11 08:38:53 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver.crt Sep 12 08:38:54 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-kubelet-client.crt Sep 12 08:38:54 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-ca.crt Sep 11 08:38:54 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-client.crt Sep 12 08:38:54 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/ca.crt Sep 11 08:38:55 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/server.crt Sep 12 08:38:55 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/peer.crt Sep 12 08:38:55 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/healthcheck-client.crt Sep 12 08:38:55 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-etcd-client.crt Sep 12 08:38:56 2022 GMT</span><br><span class="line">[2021-09-12T16:41:25.93+0800][INFO] backup /etc/kubernetes to /etc/kubernetes.old-20210912</span><br><span class="line">[2021-09-12T16:41:25.93+0800][INFO] updating...</span><br><span class="line">[2021-09-12T16:41:25.99+0800][INFO] updated /etc/kubernetes/pki/etcd/server.conf</span><br><span class="line">[2021-09-12T16:41:26.04+0800][INFO] updated /etc/kubernetes/pki/etcd/peer.conf</span><br><span class="line">[2021-09-12T16:41:26.07+0800][INFO] updated /etc/kubernetes/pki/etcd/healthcheck-client.conf</span><br><span class="line">[2021-09-12T16:41:26.11+0800][INFO] updated /etc/kubernetes/pki/apiserver-etcd-client.conf</span><br><span class="line">[2021-09-12T16:41:26.54+0800][INFO] restarted etcd</span><br><span class="line">[2021-09-12T16:41:26.60+0800][INFO] updated /etc/kubernetes/pki/apiserver.crt</span><br><span class="line">[2021-09-12T16:41:26.64+0800][INFO] updated /etc/kubernetes/pki/apiserver-kubelet-client.crt</span><br><span class="line">[2021-09-12T16:41:26.69+0800][INFO] updated /etc/kubernetes/controller-manager.conf</span><br><span class="line">[2021-09-12T16:41:26.74+0800][INFO] updated /etc/kubernetes/scheduler.conf</span><br><span class="line">[2021-09-12T16:41:26.79+0800][INFO] updated /etc/kubernetes/admin.conf</span><br><span class="line">[2021-09-12T16:41:26.79+0800][INFO] backup /root/.kube/config to /root/.kube/config.old-20210912</span><br><span class="line">[2021-09-12T16:41:26.80+0800][INFO] copy the admin.conf to /root/.kube/config</span><br><span class="line">[2021-09-12T16:41:26.85+0800][INFO] updated /etc/kubernetes/kubelet.conf</span><br><span class="line">[2021-09-12T16:41:26.88+0800][INFO] updated /etc/kubernetes/pki/front-proxy-client.crt</span><br><span class="line">[2021-09-12T16:41:28.70+0800][INFO] restarted apiserver</span><br><span class="line">[2021-09-12T16:41:29.17+0800][INFO] restarted controller-manager</span><br><span class="line">[2021-09-12T16:41:30.07+0800][INFO] restarted scheduler</span><br><span class="line">[2021-09-12T16:41:30.13+0800][INFO] restarted kubelet</span><br><span class="line">[2021-09-12T16:41:30.14+0800][INFO] done!!!</span><br><span class="line">CERTIFICATE EXPIRES</span><br><span class="line">/etc/kubernetes/controller-manager.config Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/scheduler.config Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/admin.config Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/ca.crt Sep 11 08:38:53 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver.crt Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-kubelet-client.crt Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-ca.crt Sep 11 08:38:54 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-client.crt Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/ca.crt Sep 11 08:38:55 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/server.crt Sep 11 08:41:25 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/peer.crt Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/etcd/healthcheck-client.crt Sep 11 08:41:26 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-etcd-client.crt Sep 11 08:41:26 2031 GMT</span><br></pre></td></tr></table></figure>
<p>The following certificates and kubeconfig configuration files will be updated</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/etc/kubernetes</span><br><span class="line">├── admin.conf</span><br><span class="line">├── controller-manager.conf</span><br><span class="line">├── scheduler.conf</span><br><span class="line">├── kubelet.conf</span><br><span class="line">└── pki</span><br><span class="line">    ├── apiserver.crt</span><br><span class="line">    ├── apiserver-etcd-client.crt</span><br><span class="line">    ├── apiserver-kubelet-client.crt</span><br><span class="line">    ├── front-proxy-client.crt</span><br><span class="line">    └── etcd</span><br><span class="line">        ├── healthcheck-client.crt</span><br><span class="line">        ├── peer.crt</span><br><span class="line">        └── server.crt</span><br></pre></td></tr></table></figure>
<p>See <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yuyicai/update-kube-cert/blob/master/other.md">update-kube-cert/other.md at master · yuyicai/update-kube-cert - https://github.com/yuyicai/update-kube-cert/blob/master/other.md</a> to learn more.</p>
<h3 id="Rollback-of-certificate-update-failure">Rollback of certificate update failure</h3>
<p>The script will automatically back up the <code>/etc/kubernetes</code> directory to the <code>/etc/kubernetes.old-$(date +%Y%m%d)</code> directory (example of naming the backup directory: <code>kubernetes.old-20200325</code>)</p>
<p>If the renewal of the certificate fails and needs to be rolled back, manually backup the <code>/etc/kubernetes.old-$(date +%Y%m%d)</code> directory over the <code>/etc/kubernetes</code> directory</p>
<h3 id="Other">Other</h3>
<p>The following content has nothing to do with the script, just a few words</p>
<ul>
<li>
<p>Versions greater than or equal to v1.15 can directly use <code>kubeadm alpha certs renew &lt;cert_name&gt; </code>to renew the certificate validity period. After the renewal, the certificate validity period will be extended by 1 year</p>
</li>
<li>
<p>Use <code>kubeadm alpha certs renew &lt;cert_name&gt;</code> if the version is less than v1.17</p>
</li>
</ul>
<h2 id="FAQs">FAQs</h2>
<h3 id="Can’t-open-etc-kubernetes-pki-etcd-ca-crt-for-reading-No-such-file-or-directory">Can’t open /etc/kubernetes/pki/etcd/ca.crt for reading, No such file or directory</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./update-kubeadm-cert.sh all</span></span><br><span class="line">CERTIFICATE                                       EXPIRES</span><br><span class="line">/etc/kubernetes/controller-manager.config         Oct 15 10:15:06 2022 GMT</span><br><span class="line">/etc/kubernetes/scheduler.config                  Oct 15 10:15:07 2022 GMT</span><br><span class="line">/etc/kubernetes/admin.config                      Oct 15 10:15:06 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/ca.crt                        Oct 13 10:15:04 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver.crt                 Oct 15 10:15:04 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-kubelet-client.crt  Oct 15 10:15:04 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-ca.crt            Oct 13 10:15:04 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-client.crt        Oct 15 10:15:05 2022 GMT</span><br><span class="line">Can&#x27;t open /etc/kubernetes/pki/etcd/ca.crt for reading, No such file or directory</span><br><span class="line">139914442377024:error:02001002:system library:fopen:No such file or directory:crypto/bio/bss_file.c:69:fopen(&#x27;/etc/kubernetes/pki/etcd/ca.crt&#x27;,&#x27;r&#x27;)</span><br><span class="line">139914442377024:error:2006D080:BIO routines:BIO_new_file:no such file:crypto/bio/bss_file.c:76:</span><br><span class="line">unable to load certificate</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>If <code>etcd</code> was installed independently by Kubenetes, just run <code>update-kubeadm-cert.sh master</code> to fix that issue.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">$ ./update-kubeadm-cert.sh master</span><br><span class="line">CERTIFICATE                                       EXPIRES</span><br><span class="line">/etc/kubernetes/controller-manager.config         Nov 24 09:08:12 2022 GMT</span><br><span class="line">/etc/kubernetes/scheduler.config                  Nov 24 09:08:12 2022 GMT</span><br><span class="line">/etc/kubernetes/admin.config                      Nov 24 09:08:11 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/ca.crt                        Oct 13 10:15:04 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver.crt                 Nov 24 09:08:11 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-kubelet-client.crt  Nov 24 09:08:12 2022 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-ca.crt            Oct 13 10:15:04 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-client.crt        Nov 24 09:08:12 2022 GMT</span><br><span class="line">[WARNING] does not backup, /etc/kubernetes.old-20211124 already exists</span><br><span class="line">[INFO] updating...</span><br><span class="line">[INFO] updated /etc/kubernetes/pki/apiserver.crt</span><br><span class="line">[INFO] updated /etc/kubernetes/pki/apiserver-kubelet-client.crt</span><br><span class="line">[INFO] updated /etc/kubernetes/controller-manager.conf</span><br><span class="line">[INFO] updated /etc/kubernetes/scheduler.conf</span><br><span class="line">[INFO] updated /etc/kubernetes/admin.conf</span><br><span class="line">[INFO] backup /root/.kube/config to /root/.kube/config.old-20211124</span><br><span class="line">[INFO] copy the admin.conf to /root/.kube/config</span><br><span class="line">[INFO] does not need to update kubelet.conf</span><br><span class="line">[INFO] updated /etc/kubernetes/pki/front-proxy-client.crt</span><br><span class="line">./update-kubeadm-cert.sh: line 314: docker: command not found</span><br><span class="line">[INFO] restarted apiserver</span><br><span class="line">./update-kubeadm-cert.sh: line 314: docker: command not found</span><br><span class="line">[INFO] restarted controller-manager</span><br><span class="line">./update-kubeadm-cert.sh: line 314: docker: command not found</span><br><span class="line">[INFO] restarted scheduler</span><br><span class="line">[INFO] restarted kubelet</span><br><span class="line">[INFO] done!!!</span><br><span class="line">CERTIFICATE                                       EXPIRES</span><br><span class="line">/etc/kubernetes/controller-manager.config         Nov 20 09:21:42 2031 GMT</span><br><span class="line">/etc/kubernetes/scheduler.config                  Nov 20 09:21:42 2031 GMT</span><br><span class="line">/etc/kubernetes/admin.config                      Nov 20 09:21:42 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/ca.crt                        Oct 13 10:15:04 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver.crt                 Nov 20 09:21:42 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/apiserver-kubelet-client.crt  Nov 20 09:21:42 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-ca.crt            Oct 13 10:15:04 2031 GMT</span><br><span class="line">/etc/kubernetes/pki/front-proxy-client.crt        Nov 20 09:21:43 2031 GMT</span><br></pre></td></tr></table></figure>
<p>Then, check Kubernetes Certificates.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">kubeadm certs check-expiration</span><br><span class="line">[check-expiration] Reading configuration from the cluster...</span><br><span class="line">[check-expiration] FYI: You can look at this config file with &#x27;kubectl -n kube-system get cm kubeadm-config -o yaml&#x27;</span><br><span class="line">W1124 09:31:07.969752    1655 utils.go:69] The recommended value for &quot;clusterDNS&quot; in &quot;KubeletConfiguration&quot; is: [10.233.0.10]; the provided value is: [169.254.25.10]</span><br><span class="line"></span><br><span class="line">CERTIFICATE                EXPIRES                  RESIDUAL TIME   CERTIFICATE AUTHORITY   EXTERNALLY MANAGED</span><br><span class="line">admin.conf                 Nov 20, 2031 09:21 UTC   9y                                      no</span><br><span class="line">apiserver                  Nov 20, 2031 09:21 UTC   9y              ca                      no</span><br><span class="line">apiserver-kubelet-client   Nov 20, 2031 09:21 UTC   9y              ca                      no</span><br><span class="line">controller-manager.conf    Nov 20, 2031 09:21 UTC   9y                                      no</span><br><span class="line">front-proxy-client         Nov 20, 2031 09:21 UTC   9y              front-proxy-ca          no</span><br><span class="line">scheduler.conf             Nov 20, 2031 09:21 UTC   9y                                      no</span><br><span class="line"></span><br><span class="line">CERTIFICATE AUTHORITY   EXPIRES                  RESIDUAL TIME   EXTERNALLY MANAGED</span><br><span class="line">ca                      Nov 20, 2031 10:15 UTC   9y              no</span><br><span class="line">front-proxy-ca          Nov 20, 2031 10:15 UTC   9y              no</span><br></pre></td></tr></table></figure>
<h2 id="References">References</h2>
<p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/yuyicai/update-kube-cert">yuyicai/update-kube-cert: K8s集群证书过期处理，更新kubeadm生成的证书有效期为10年。针对旧版集群(小于v1.15)，当然大于等于v1.15也是可以用这个脚本更新，新版可直接kubeadm alpha certs renew &lt;cert_name&gt;更新 (deal with K8s cluster certificate expired) - https://github.com/yuyicai/update-kube-cert</a></p>
<p>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/">Certificate Management with kubeadm | Kubernetes - https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/bitcoin.png" alt="CloudoLife Bitcoin">
        <span>Bitcoin</span>
      </div>

  </div>
</div>

          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Kubernetes-K8S/" rel="tag"># Kubernetes (K8S)</a>
              <a href="/tags/Cloud-Native/" rel="tag"># Cloud Native</a>
              <a href="/tags/update-kube-cert/" rel="tag"># update-kube-cert</a>
              <a href="/tags/kubeadm/" rel="tag"># kubeadm</a>
              <a href="/tags/shell/" rel="tag"># shell</a>
              <a href="/tags/bash/" rel="tag"># bash</a>
              <a href="/tags/etcd/" rel="tag"># etcd</a>
              <a href="/tags/Certificate/" rel="tag"># Certificate</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/07/03/Kubernetes-K8S/Ingress-Nginx/Enable-ModSecurity-OWASP-WAF-in-the-ingress-nginx/" rel="prev" title="[Kubernetes (K8S) Kind] Use Homebrew (brew) to install Kind Kubernetes (K8S) cluster on macOS">
                  <i class="fa fa-angle-left"></i> [Kubernetes (K8S) Kind] Use Homebrew (brew) to install Kind Kubernetes (K8S) cluster on macOS
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/07/03/macOS/Use-Homebrew-brew-to-install-Docker-Desktop-and-K8s-on-macOS/" rel="next" title="[macOS] Use Homebrew (brew) to install Docker Desktop, Docker Compose and Kubernetes (K8S) on macOS">
                  [macOS] Use Homebrew (brew) to install Docker Desktop, Docker Compose and Kubernetes (K8S) on macOS <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">CloudoLife</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">2.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">39:58</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener external nofollow noreferrer" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"CloudoLife","repo":"col-hexo-CloudoLife.github.io","client_id":"4ca3ae8fb3a49237db9a","client_secret":"98d6652508799ef4350ab05aabe855e58f549112","admin_user":"benjamincloudolife","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"8725ad813e38ae603b436f68dac1cff8"}</script>
<script src="/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
